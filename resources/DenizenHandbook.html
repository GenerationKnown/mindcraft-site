<html><head><title>Denizen Handbook</title><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=teChFJ59z8L064T8KCwqLHAbQLVDxWQ7_4LT_zzttuYh11bCuoDDgYVPqZAOvMZx5fNg-VJfe9iHBXm3kbhtuA');ol{margin:0;padding:0}.c17{vertical-align:top;width:241.5pt;border-style:solid;background-color:#d9ead3;border-color:#d9d9d9;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c76{vertical-align:top;width:341.6pt;border-style:solid;background-color:#d0e0e3;border-color:#cccccc;border-width:0.5pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c34{vertical-align:top;width:113.9pt;border-style:solid;background-color:#fff2cc;border-color:#000000;border-width:0.5pt;padding:5pt 5pt 5pt 5pt}.c71{vertical-align:top;width:302.2pt;border-style:solid;background-color:#fff2cc;border-color:#999999;border-width:1pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c38{vertical-align:top;width:683.3pt;border-style:solid;background-color:#d0e0e3;border-color:#000000;border-width:1pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c44{vertical-align:top;width:288pt;border-style:solid;background-color:#d9ead3;border-color:#d9d9d9;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c81{vertical-align:top;width:341.6pt;border-style:solid;background-color:#fff2cc;border-color:#cccccc;border-width:0.5pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c92{vertical-align:top;width:339pt;border-style:solid;border-color:#999999;border-width:1pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c99{vertical-align:top;width:43.5pt;border-style:solid;border-color:#000000;border-width:0pt;padding:5pt 5pt 5pt 5pt}.c100{vertical-align:top;width:683.2pt;border-style:solid;border-color:#000000;border-width:0pt;padding:5pt 5pt 5pt 5pt}.c49{vertical-align:top;width:341.6pt;border-style:solid;border-color:#ffffff;border-width:1pt;padding:18pt 18pt 18pt 18pt}.c103{vertical-align:top;width:261pt;border-style:solid;border-color:#999999;border-width:0.5pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c102{vertical-align:top;width:209.2pt;border-style:solid;border-color:#d9d9d9;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c96{vertical-align:top;width:33pt;border-style:solid;border-color:#000000;border-width:0pt;padding:5pt 5pt 5pt 5pt}.c20{vertical-align:top;width:341.6pt;border-style:solid;border-color:#ffffff;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c87{vertical-align:top;width:683.3pt;border-style:solid;border-color:#999999;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c105{vertical-align:middle;width:212.2pt;border-style:solid;border-color:#999999;border-width:0.5pt;padding:5pt 5pt 5pt 5pt}.c108{vertical-align:top;width:341.6pt;border-style:solid;border-color:#000000;border-width:1pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c95{vertical-align:top;width:341.6pt;border-style:solid;border-color:#cccccc;border-width:0.5pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c61{vertical-align:top;width:288pt;border-style:solid;border-color:#d9d9d9;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c35{vertical-align:top;width:255.8pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c52{vertical-align:top;width:241.5pt;border-style:solid;border-color:#d9d9d9;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c72{vertical-align:top;width:198.8pt;border-style:solid;border-color:#d9d9d9;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c36{vertical-align:top;width:212.2pt;border-style:solid;border-color:#999999;border-width:0.5pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c88{vertical-align:middle;width:210pt;border-style:solid;border-color:#999999;border-width:0.5pt;padding:5pt 5pt 5pt 5pt}.c94{vertical-align:top;width:683.3pt;border-style:solid;border-color:#999999;border-width:1pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c43{vertical-align:top;width:417pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c98{vertical-align:top;width:302.2pt;border-style:solid;border-color:#999999;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c89{vertical-align:top;width:343.5pt;border-style:solid;border-color:#999999;border-width:1pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c65{vertical-align:top;width:356.2pt;border-style:solid;border-color:#d9d9d9;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c79{vertical-align:top;width:210pt;border-style:solid;border-color:#999999;border-width:0.5pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c97{vertical-align:middle;width:261pt;border-style:solid;border-color:#999999;border-width:0.5pt;padding:5pt 5pt 5pt 5pt}.c69{vertical-align:top;width:40.5pt;border-style:solid;border-color:#000000;border-width:0pt;padding:5pt 5pt 5pt 5pt}.c37{vertical-align:top;width:179.2pt;border-style:solid;border-color:#d9d9d9;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c48{vertical-align:middle;width:341.6pt;border-style:solid;border-color:#000000;border-width:1pt;padding:14.4pt 14.4pt 14.4pt 14.4pt}.c91{vertical-align:top;width:249pt;border-style:solid;border-color:#000000;border-width:0pt}.c70{vertical-align:top;width:390.8pt;border-style:solid;border-color:#000000;border-width:0pt}.c107{vertical-align:top;width:325.5pt;border-style:solid;border-color:#000000;border-width:0pt}.c86{vertical-align:top;width:317.2pt;border-style:solid;border-color:#000000;border-width:0pt}.c47{vertical-align:top;width:353.2pt;border-style:solid;border-color:#000000;border-width:0pt}.c75{vertical-align:top;width:297pt;border-style:solid;border-color:#000000;border-width:0pt}.c13{list-style-type:disc;margin:0;padding:0}.c9{color:#a64d79;font-size:9pt;font-family:"Droid Sans Mono"}.c110{color:#000d63;background-color:#fffffe;font-family:"Verdana"}.c14{font-size:9pt;font-family:"Droid Sans Mono"}.c18{color:#1155cc;text-decoration:underline}.c109{max-width:683.3pt;padding:43.2pt 54.7pt 72pt 54pt}.c12{font-size:8pt;font-family:"Droid Sans Mono"}.c19{background-color:#fff2cc;font-family:"Droid Sans Mono"}.c3{font-size:10pt;font-family:"Droid Sans Mono"}.c21{color:inherit;text-decoration:inherit}.c32{font-size:16pt;font-family:"Syncopate"}.c2{background-color:#d0e0e3;font-family:"Droid Sans Mono"}.c29{color:#333333;background-color:#f9f9f9}.c8{font-family:"Syncopate";font-weight:bold}.c56{color:#333333;background-color:#f8f8f8}.c0{height:11pt;direction:ltr}.c11{color:#999999;font-size:12pt}.c55{color:#666666;font-size:36pt}.c42{color:#e69138;text-decoration:underline}.c27{margin:5px;border:1px solid black}.c60{background-color:#b6d7a8}.c64{color:#3c78d8}.c77{color:#666666}.c73{height:18pt}.c33{border-collapse:collapse}.c1{line-height:1.0}.c10{height:14pt}.c93{font-size:9pt}.c25{line-height:1.5}.c63{color:#e69138}.c74{margin-left:54pt}.c40{color:#6d9eeb}.c39{font-family:"Syncopate"}.c7{font-family:"Arial"}.c26{font-family:"Droid Sans Mono"}.c31{color:#4a86e8}.c80{text-decoration:underline}.c59{background-color:#c9daf8}.c90{padding-left:0pt}.c24{color:#1155cc}.c15{background-color:#ffffff}.c83{height:40pt}.c6{direction:ltr}.c84{background-color:#fff2cc}.c54{text-indent:36pt}.c50{font-size:14pt}.c23{font-size:12pt}.c101{height:90pt}.c111{color:#ffffff}.c62{font-size:18pt}.c106{font-size:16pt}.c67{color:#b7b7b7}.c5{font-size:10pt}.c53{text-align:center}.c66{height:156pt}.c68{height:291pt}.c58{font-size:36pt}.c45{height:0pt}.c46{text-align:justify}.c4{font-family:"Droid Serif"}.c28{margin-left:36pt}.c22{color:#ff0000}.c16{font-weight:bold}.c51{background-color:#d9ead3}.c30{margin-left:18pt}.c78{height:12pt}.c85{height:24pt}.c104{color:#a4c2f4}.c41{font-style:italic}.c82{height:9pt}.c57{color:#999999}.title{padding-top:0pt;line-height:1.15;text-align:left;color:#000000;font-size:11pt;font-family:"Droid Sans";padding-bottom:0pt}.subtitle{padding-top:18pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:24pt;font-family:"Georgia";padding-bottom:4pt}li{color:#000000;font-size:11pt;font-family:"Droid Sans"}p{color:#000000;font-size:11pt;margin:0;font-family:"Droid Sans"}h1{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:18pt;font-family:"Droid Sans";font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;line-height:1.15;text-align:left;color:#000000;font-size:14pt;font-family:"Droid Sans";font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Droid Sans";font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Droid Sans";padding-bottom:2pt}h5{padding-top:11pt;line-height:1.15;text-align:left;color:#666666;font-size:10pt;font-family:"Droid Sans";font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:10pt;font-family:"Droid Sans";padding-bottom:2pt}</style></head><body class="c15 c109"><p class="c0 c53"><span class="c8 c63 c58"></span></p><p class="c6 c53"><span class="c8 c63 c58">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c6 c53"><span class="c8 c63 c58">&nbsp;</span></p><p class="c0"><span class="c8 c58 c63"></span></p><p class="c6 c53"><img height="225" src="images/image00.png" width="657"></p><p class="c0 c53"><span class="c8 c63 c58"></span></p><p class="c6 c53"><span class="c39 c58">Handbook</span></p><p class="c0"><span class="c62 c4"></span></p><p class="c0"><span class="c4 c62"></span></p><p class="c0"><span class="c62 c4"></span></p><p class="c0"><span class="c8 c23"></span></p><p class="c6 c53"><span class="c8 c23">WRITTEN BY aufdemrand </span></p><p class="c6 c53"><span class="c8 c23">and the denizen coding team</span></p><p class="c0 c53"><span class="c39 c23"></span></p><p class="c0 c53"><span class="c39 c23"></span></p><p class="c0 c53"><span class="c39 c23"></span></p><p class="c0 c53"><span class="c39 c23"></span></p><p class="c0 c53"><span class="c39 c23"></span></p><p class="c6 c53"><span class="c23">Please note: This is a work in progress. Many features</span></p><p class="c6 c53"><span class="c23">are being tested and tweaked before taking their &lsquo;final</span></p><p class="c6 c53"><span class="c23">form&rsquo;. This document attempts to only document things</span></p><p class="c6 c53"><span class="c23">&nbsp;that are at or near &lsquo;final form&rsquo;.</span></p><p class="c0 c53"><span class="c23"></span></p><p class="c0 c53"><span class="c23"></span></p><p class="c0 c53"><span class="c23"></span></p><p class="c0 c53"><span class="c23"></span></p><p class="c0 c53"><span class="c23"></span></p><p class="c6 c53"><span class="c15 c23 c16">Donate:</span><span class="c15 c23">&nbsp;</span></p><p class="c6 c53"><span class="c15 c23">Thousands of man hours has been put into Denizen. Your donations add a lot</span></p><p class="c6 c53"><span class="c15 c23">to the project and are always welcome! &nbsp;Your donations will probably help </span></p><p class="c6 c53"><span class="c15 c23">remodel my house and feed my kids, or help convince my wife this is a </span></p><p class="c6 c53"><span class="c15 c23">good hobby :) </span></p><p class="c0 c53"><span class="c15"></span></p><p class="c6 c53"><span class="c8 c31 c15"><a class="c21" href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=jeremy%2eschroeder%40gmail%2ecom&amp;lc=US&amp;currency_code=USD&amp;bn=PP%2dDonationsBF%3abtn_donate_LG%2egif%3aNonHosted">click here to donate to aufdemrand</a></span><span class="c8 c15 c31">&nbsp;</span></p><p class="c0 c53"><span class="c39 c15 c22"></span></p><p class="c6 c53"><span class="c15 c23">Don&#39;t forget to donate to the Citizens2 project as well, </span></p><p class="c6 c53"><span class="c15 c23">as none of this would be possible without that!</span></p><p class="c0"><span class="c62 c4"></span></p><p class="c0"><span class="c62 c4"></span></p><p class="c0"><span class="c62 c4"></span></p><p class="c0"><span class="c62 c4"></span></p><p class="c0"><span class="c39"></span></p><p class="c0"><span class="c8 c50"></span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span class="c8 c50"></span></p><p class="c6"><span class="c8 c50">Table of Contents:</span></p><p class="c0 c25"><span class="c14 c63"></span></p><a href="#" name="65f4120d4ba3f6b7706fc3c45acfb1fe57344c6b"></a><a href="#" name="0"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c83"><td class="c51 c105"><p class="c1 c6"><span>Introduction/Getting Started</span></p></td><td class="c84 c97"><p class="c1 c6"><span>Getting to know dScript</span></p></td><td class="c59 c88"><p class="c1 c6"><span>Reference</span></p></td></tr><tr class="c45"><td class="c36"><p class="c6"><span class="c18"><a class="c21" href="#h.fk00svtg5p7y">Introduction</a></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.p3zi03sgsqj7">Important links</a></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.kkq2drw52jpa">How it works</a></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.1k5w9dwypwm6">Many thanks to a wonderful Community</a></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.q5wwmg8qye8v">Migrating from Version 0.76</a></span></p><p class="c6"><span class="c18">&nbsp; &nbsp; </span></p><p class="c6"><span class="c18"><a class="c21" href="#h.ah9r7ncio8hi">Getting Started</a></span></p><p class="c6"><span class="c24">&nbsp; &nbsp; </span><span class="c18"><a class="c21" href="#h.1hzzioqdolpr">How to use server commands</a></span></p><p class="c6"><span class="c24">&nbsp; &nbsp; </span><span class="c18"><a class="c21" href="#h.n7mmbfdsdoj1">Denizen Command</a></span><span class="c18">s</span></p><p class="c6"><span class="c24">&nbsp; &nbsp; </span><span class="c18"><a class="c21" href="#h.9ehdfidlt3n8">NPC Command</a></span><span class="c18">s</span></p><p class="c6"><span class="c24">&nbsp; &nbsp; </span><span class="c18">Experimental</span><span class="c18"><a class="c21" href="#h.lyti8bp7tsli">&nbsp;Commands</a></span></p><p class="c0"><span class="c18"></span></p><p class="c6"><span class="c24">&nbsp; &nbsp; </span><span class="c18"><a class="c21" href="#h.gyx7syf1sus6">Loading scripts</a></span></p><p class="c0 c25"><span class="c14 c63"></span></p><p class="c0 c28"><span class="c14 c18"></span></p><p class="c0 c28"><span class="c14 c18"></span></p><p class="c0 c28"><span class="c14 c18"></span></p><h1 class="c73 c25 c6"><a name="h.nv4iplu7prkz"></a></h1></td><td class="c103"><p class="c25 c6"><span class="c18"><a class="c21" href="#h.d37r9lyp631l">Getting to know dScript</a></span></p><p class="c6"><span class="c63">&nbsp; </span><span class="c18">P</span><span class="c18"><a class="c21" href="#h.18dsw5xtmpcy">owered by YAML, a human friendly</a></span></p><p class="c25 c6"><span class="c63">&nbsp; &nbsp; </span><span class="c18"><a class="c21" href="#h.18dsw5xtmpcy">markup language</a></span></p><p class="c6"><span class="c63">&nbsp; </span><span class="c18"><a class="c21" href="#h.g2azt68rqa1q">Understanding how arguments are </a></span></p><p class="c25 c6"><span class="c63">&nbsp; &nbsp; </span><span class="c18"><a class="c21" href="#h.g2azt68rqa1q">interpreted</a></span></p><p class="c25 c6"><span class="c63">&nbsp; </span><span class="c18">R</span><span class="c18"><a class="c21" href="#h.2d5iup80iaa4">eading argument hints</a></span></p><p class="c25 c6"><span class="c63">&nbsp; </span><span class="c18"><a class="c21" href="#h.l7r363qvt6mk">Replaceable Tags</a></span></p><p class="c1 c6"><span class="c63">&nbsp; </span><span class="c18"><a class="c21" href="#h.ljoqr5jdie3i">Troubleshooting</a></span></p><p class="c1 c6"><span class="c63">&nbsp;</span><span class="c42">&nbsp;</span></p></td><td class="c79"><p class="c6"><span class="c18"><a class="c21" href="#h.lk9vehtrkn3h">Commands A-Z</a></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.mo50nmo3i89c">Announce</a></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.tek0spttzacn">Assignment</a></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.w320i133maqu">Attack</a></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.cw03cxuxqe6y">Cast</a></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.ih3t61ulto13">SCRIPT TYPES</a></span></p><p class="c0 c30"><span class="c18"></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.hrsccjqx1zwn">Appendix</a></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.136aieitjlg">Denizen File/Folder Structure</a></span></p><p class="c6"><span class="c18"><a class="c21" href="#h.6ou9jerd10qy">LISTENERS</a></span></p><p class="c6"><span class="c24">&nbsp; </span><span class="c18">-</span><span class="c18"><a class="c21" href="#h.ilj3xmh03zlv">KILL</a></span></p><p class="c6"><span class="c24">&nbsp; </span><span class="c18">-</span><span class="c18"><a class="c21" href="#h.vp9gx09ubz3p">ITEM</a></span></p><p class="c6"><span class="c24">&nbsp; </span><span class="c18">-</span><span class="c18"><a class="c21" href="#h.rac58fknga9r">BLOCK</a></span></p><p class="c6"><span class="c24">&nbsp; </span><span class="c18"><a class="c21" href="#h.xfp6yfax4fll">-TRAVEL</a></span></p><p class="c6"><span class="c63">&nbsp; </span><span class="c18"><a class="c21" href="#h.z3pzrrx7d5f">-ITEMDRO</a></span><span class="c18 c26"><a class="c21" href="#h.z3pzrrx7d5f">P</a></span></p></td></tr></tbody></table><p class="c0 c25"><span class="c14 c63"></span></p><p class="c0"><span class="c14 c18"></span></p><p class="c0"><span class="c14 c18"></span></p><h1 class="c73 c25 c6"><a name="h.gtxuljdb3evi"></a></h1><hr style="page-break-before:always;display:none;"><h1 class="c73 c6"><a name="h.k324wxrybkl4"></a></h1><h1 class="c6"><a name="h.fk00svtg5p7y"></a><span class="c39 c50">Introduction</span></h1><p class="c6 c46"><span>Denizen, powered by </span><span class="c41">Citizens2,</span><span>&nbsp;is an extensive add-on pack that allows for a scriptable Minecraft experience, including enhanced &nbsp;NPCs, custom commands, items, world events and many other features. Inspired by MUDs, features and NPCs powered by Denizen have a unique RPG feel unmatched by any other CraftBukkit solution. I</span><span class="c15">magine interactive gate-keepers, magic spells, magical wizards, experience trainers, experience and player-stat systems, bankers that have bankers&rsquo; hours, talking townspeople, magical quests, and more! Denizen can be used in thousands of different ways, from tutorials, to gameplay, to administering --- your imagination is the limit!</span></p><p class="c0 c46"><span class="c15"></span></p><p class="c6 c46"><span class="c15">By sharing your scripts, you can enable the most exciting feature. Since dScript, the language that powers Denizen, is made to be easily read, users can share and tweak scripts to fit their needs with ease. Many can already be found online in the Citizens Script Repository @ </span><span class="c18 c15"><a class="c21" href="http://scripts.citizensnpcs.com">scripts.citizensnpcs.com</a></span><span class="c15">. </span></p><p class="c0 c46"><span class="c15"></span></p><p class="c6 c46"><span class="c15">While we are currently still in pre-release beta, the YAML-based dScript is becoming a fully featured core-set of features that can control your server in hundreds of ways. If that&rsquo;s not enough, there&rsquo;s also many ways to extend the functionality since Denizen is being programmed with a fully featured Java API in mind. With some simple Java, it&rsquo;s easy to make your own dScript commands, requirements, script containers, tags, triggers, and many more. Many plugin developers are already extending their plugins with custom Denizen content for easy use with scripts, and by the time one point &lsquo;o&rsquo; hits, we hope your plugins will take notice as well!</span></p><p class="c0 c46"><span class="c15 c5 c4"></span></p><p class="c0 c46"><span class="c15 c5 c4"></span></p><h1 class="c6"><a name="h.p3zi03sgsqj7"></a><span class="c39 c50">Important links</span></h1><p class="c6"><span class="c15">The Denizen project has some presence on the web in a few different places. Here are some links which may help get more information</span><span class="c15">&nbsp;as this document is still under construction.</span></p><p class="c0"><span class="c15 c5 c4"></span></p><p class="c0"><span class="c15 c5 c4"></span></p><a href="#" name="55d6cc31a36e261da4026c059d0d6bdaf34b1a08"></a><a href="#" name="1"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c92"><p class="c6"><span class="c16">Denizen @ dev.bukkit.org</span><span>: </span></p><p class="c6"><span class="c18"><a class="c21" href="http://dev.bukkit.org/server-mods/denizen/">http://dev.bukkit.org/server-mods/denizen/</a></span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Denizen @ wiki.citizensnpcs.com</span><span>: </span></p><p class="c6"><span class="c18"><a class="c21" href="http://wiki.citizensnpcs.com/Denizen">http://wiki.citizensnpcs.com/Denizen</a></span><span>&nbsp;</span></p><p class="c6"><span>(Note: Wiki is currently documenting version 0.76! 0.8 will be added once pre-release is done.)</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Latest Denizen 0.8 Development Builds @ Citizens Jenkins</span><span>: </span></p><p class="c6"><span class="c18"><a class="c21" href="http://ci.citizensnpcs.com/view/Add-ons/job/Denizen/">http://ci.citizensnpcs.com/view/Add-ons/job/Denizen/</a></span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Denizen Java-docs (for using API)</span><span>:</span></p><p class="c6"><span class="c18"><a class="c21" href="http://ci.citizensnpcs.com/view/Add-ons/job/Denizen/javadoc/?">http://ci.citizensnpcs.com/view/Add-ons/job/Denizen/javadoc/?</a></span></p><p class="c0"><span class="c15 c5 c4"></span></p></td><td class="c89"><p class="c6"><span class="c16">aufdemrand&rsquo;s Denizen Channel @ Youtube</span><span>:</span></p><p class="c6"><span class="c18"><a class="c21" href="http://www.youtube.com/user/aufdem2">http://www.youtube.com/user/aufdem2</a></span></p><p class="c6"><span>(Note: I hope to have some 0.8 videos up soon!)</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">aufdemrand&rsquo;s Script Repo Page @ Citizens Script Repo</span><span>:</span></p><p class="c6"><span class="c18"><a class="c21" href="http://scripts.citizensnpcs.com/user/aufdemrand">http://scripts.citizensnpcs.com/user/aufdemrand</a></span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">#denizen-dev @ EsperNet</span><span>: </span></p><p class="c6"><span class="c80 c5 c110"><a class="c21" href="http://webchat.esper.net/?nick=random_denizen_...&amp;channels=denizen-dev&amp;prompt=1">http://webchat.esper.net/?nick=random_denizen_...&amp;channels=denizen-dev&amp;prompt=1</a></span></p><p class="c6"><span>Live chat with the Denizen crew and power-users. This is usually the fastest way to give me some feedback, or to troubleshoot an </span><span class="c41">impossible problem</span><span>. (Note: Sometimes the chat is quite off-topic... but we like it that way!)</span></p><p class="c0"><span class="c15 c5 c4"></span></p><p class="c6"><span class="c15 c16">Twitter @denizen_</span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c0"><span></span></p><h1 class="c6"><a name="h.kkq2drw52jpa"></a><span class="c39 c50">How it works</span></h1><p class="c6"><span class="c15">Denizen is powered by several core components.</span></p><p class="c0"><span class="c15 c5 c4"></span></p><ol class="c13" start="1"><li class="c90 c6 c28"><span class="c15 c16">Commands </span><span class="c15">are verbose, easy to use &lsquo;functions&rsquo; that control scripts, the server, worlds, entities, and many other things. With Denizen&rsquo;s easy to use under-laying command structure, a very powerful arguments system allows the ability to use script commands in thousands of different ways. Denizen currently implements over 50 commands that cover a wide array of usage. With Denizen&rsquo;s API, custom commands are easy to implement with Java to add additional features.</span></li></ol><p class="c0"><span class="c15 c16"></span></p><ol class="c13" start="2"><li class="c90 c6 c28"><span class="c15 c16">Queues </span><span class="c15">carry out the execution and timing of commands in an orderly and predictable fashion. This is the backbone of Denizen. There&#39;s not much to see on the outside, this is the inter-workings of Denizen, but rest assured that this is high performance machine behind the scene, keeping your Denizen-powered server dynamic and rich!</span></li></ol><p class="c0"><span class="c15"></span></p><ol class="c13" start="3"><li class="c90 c6 c28"><span class="c15 c16">Script Containers</span><span class="c15">&nbsp;provide a unified way to control your Minecraft Server, with different </span><span class="c15">&lsquo;</span><span class="c15">script types&rsquo; that hold scripts and other settings all able to be combined and used together in script files. Denizen comes stock with script types made especially for NPCs including Assignment Scripts and Interact Scripts, server script types such as World Scripts, Book Scripts, Item Scripts, and Entity Scripts (soon!), and also has other script types that help bind everything together, including Task Scripts and Procedure Scripts. Denizen API also allows other, custom types of scripts to be made to easily work together with Denizen from other plugins.</span></li></ol><p class="c0"><span class="c15"></span></p><ol class="c13" start="4"><li class="c90 c6 c28"><span class="c15 c16">Tags</span><span class="c15">&nbsp;are easy to utilize in almost any part of a script and can contain a replaceable tag with dynamic information about players, npcs, and other objects, such as the Player&rsquo;s current health, or a NPC&rsquo;s owner. We&rsquo;re almost ready to launch the next phase of tags which makes the entire system object-oriented to increase the number of tag combinations ten-fold.</span></li></ol><p class="c0"><span class="c15 c16"></span></p><ol class="c13" start="5"><li class="c90 c6 c28"><span class="c15 c16">Flags, Constants and Notables </span><span class="c15">are powerful ways to save, customize, and use information between scripts. Flags are an intricate, yet easy to learn &#39;variable&#39; system has been implemented into Denizen to help keep track of events, items, numbers, players, and more. The new &nbsp;features in the 0.8 rendition of the Flag System will be a delight to the power users who utilized them in previous versions. Constants will help keep the scripts on your server customizable and easy to read, and the notable system makes keeping track of locations and player achievements (soon!) &nbsp;easy. </span></li></ol><p class="c0"><span class="c15"></span></p><ol class="c13" start="6"><li class="c90 c6 c28"><span class="c15 c16">Listeners</span><span class="c15">&nbsp;allow control over minecraft and bukkit events by listening to player activity. Listeners allows scripts to keep track of and assign &#39;quest-like&#39; objectives, such as a &#39;kill quest&#39;, if you&#39;re familiar with the C1 Quester. But whereas many quest plugins are limited to this feature alone, Denizen, of course, allows you to use this in addition and alongside the rest of the Denizen experience, making it possible for extremely dynamic and intricate &#39;quest scripts&rsquo;.</span></li></ol><p class="c0"><span class="c15"></span></p><ol class="c13" start="7"><li class="c90 c6 c28"><span class="c15">The </span><span class="c15 c16">Traits</span><span class="c15">&nbsp;system that is implemented by Citizens2 is heavily utilized in Denizen to add some useful features to your NPCs, such as a custom health and hunger system, as well as some new physical abilities like sleep, sit, and fish.</span></li></ol><p class="c0"><span class="c15 c16"></span></p><ol class="c13" start="8"><li class="c6 c28 c90"><span class="c15 c16">Denizen Debugger</span><span class="c15">&nbsp;is a friendly and informative way to test out scripts and interactions. Commands, events, and interactions are all logged in an easy to read format to show the exact progression of a script and its actions. No more guessing! Less headaches!</span></li></ol><p class="c0"><span class="c15 c16"></span></p><p class="c0"><span class="c15"></span></p><p class="c6"><span class="c15">Seem overwhelming? Stop! Denizen is what you make it! Our advice? Start small, and build upon what you have. Read this handbook, check out the wiki articles, watch the youtube videos, test our your scripts, and test out some of the sample scripts! Before you know it, you&#39;ll be a Denizen poweruser, drunk with power, just like us!</span></p><p class="c0"><span class="c15 c5 c4"></span></p><p class="c0"><span class="c15 c5 c4"></span></p><h1 class="c6"><a name="h.1k5w9dwypwm6"></a><span class="c39 c50">Many thanks to a wonderful Community</span></h1><p class="c6"><span>Speaking as aufdemrand, I am extremely proud of the Denizen project and the relationships it has made. There has been a huge amount of support and enthusiasm from users and other programmers that has blown me away. Nearly 12 months from the first builds of the plugin, Denizen is closer than ever for a release, but many of the new features need to be tested and broken in ways that I could never do by myself. I&rsquo;ve come to rely on the community, and more personally, you! So let me personally thank you for your contributions, the Denizen project would be nowhere without you! Please direct any problems to the GitHub issues page, or on irc.esper.net in the #denizen-dev chaennel.</span></p><p class="c0"><span></span></p><p class="c6"><span>Many people have gone above and beyond just using Denizen, &nbsp;and if I could thank everybody, I would, but I definitely want to shout out to these individuals: #citizens-dev crew (fullwall, aPunch, AgentK, NeonMaster), #denizen-dev original crew (instinx, jrbudda, Wreyth, tenowg), some people who have contributed to the project (DrBix, davidcernat, groggluebutt, Spidi, mancub), some Denizen power-users (BearFather, Enohriel, Entez) and my current development team (Jeebiss, GnomeffinWay and </span><span>SpaceEmotion</span><span>). Thanks guys!</span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><h1 class="c6"><a name="h.q5wwmg8qye8v"></a><span class="c39 c50">Migrating from Version 0.76</span></h1><p class="c6"><span>It pains me to inform you that many of your scripts for 0.76 may be broken when upgrading to 0.8, especially since I&rsquo;ve come across many &lsquo;power users&rsquo; that have thousands of lines worth of dScript already written. The Interact Script and Task Script structure has not changed, but some commands have been reworked and syntax may be slightly different. Assignments, while the structure is mostly the same, is now a script type of its own and no longer is separated from your script files. </span></p><p class="c0"><span></span></p><p class="c6"><span>I&rsquo;m confident, however, that the new features that are provided will offset much of the pain in switching over. Some of the futures will provide brand new ways to use your NPCs, but more importantly, many features make using scripts more efficient and easier. With Denizen being my first major Java project there are many things that I have learned along the way. With the huge level of growth between .5 and .76, it became apparent to me code-wise that many things needed to be cleaned up and extended, without sacrificing customizability and usability. I&#39;ve focused on the core components of Denizen first, mainly the different &lsquo;registries&rsquo;, making them extensible, easy to read, and clean as possible.</span></p><p class="c0"><span></span></p><p class="c6"><span>For scripters and server owners, whereas Denizen .76 required you to know dScript and internal mechanics pretty well to get anything out of the plugin, I envision future versions of Denizen having a different level of functionality. There has been great thought and care into making scripts able to be reusable and easily configurable. By adding the ability make make a script installation being as simple as dragging-and-dropping, new types of Denizen/Citizen hybrids can be utilized even with limited knowledge, and hardcore users can dive into the scripting from the top on down. Of course it may not be as straightforward as say, an external citizens trait (ie. Sentry/Cititrader), but the point of Denizen is to be as dynamic as possible. This means the ability to make scripts that are easily traded and shared, and to make sure that is as easy as possible, some changes had to be made. So for the migration migraines this may cause, I ask your forgiveness :)</span></p><p class="c0"><span class="c39 c50"></span></p><p class="c0"><span class="c39 c50"></span></p><h1 class="c6"><a name="h.ah9r7ncio8hi"></a><span class="c39 c50">Getting </span><span class="c39 c50">Started</span></h1><p class="c6"><span>It&rsquo;s hard to find a good &lsquo;start point&rsquo; when using Denizen, since there are many </span><span>different scopes, but let&rsquo;s first take a look at the basic functionality and control of Denizen provided by the use of craftbukkit commands. Since Denizen uses the C2 command system, you may already be familiar with the system.</span></p><h2 class="c6"><a name="h.1hzzioqdolpr"></a><span class="c39 c23">How to use the server command system</span></h2><p class="c0"><span></span></p><p class="c6"><span>All commands have a &lsquo;base_command&rsquo;, a &lsquo;command_name&rsquo; and either string values, integer values, value flags (--flag value) or non-value flags (-t). Some commands may use multiple flags at a time. Consider the examples below. </span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c26">/base_command command_name </span><span class="c26">string value</span><sup><a href="#cmnt1" name="cmnt_ref1">[a]</a></sup><span class="c26">&nbsp;</span><span class="c26">--flag value</span><sup><a href="#cmnt2" name="cmnt_ref2">[b]</a></sup><span class="c26">&nbsp;</span><span class="c26">-t</span><sup><a href="#cmnt3" name="cmnt_ref3">[c]</a></sup></p><p class="c6"><span class="c26">/npc trigger damage --cooldown 5 -t</span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span>Note: Value flags which contain more than one word must be enclosed in quotes. </span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span class="c26">/base_command command_name </span><span class="c26">--flag &ldquo;multi word value&rdquo;</span><sup><a href="#cmnt4" name="cmnt_ref4">[d]</a></sup><span class="c26">&nbsp;</span><span class="c26">--another_flag another_value</span><sup><a href="#cmnt5" name="cmnt_ref5">[e]</a></sup><span class="c26">&nbsp; -t -f</span></p><p class="c6"><span class="c26">/npc constant --name &lsquo;Default Greeting Text&rsquo; --value &lsquo;Hello, player!&rsquo;</span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span>Commands that provide multiple pages of feedback can include an integer number to specify page with some commands. If no number is specified, page 1 is assumed.</span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span class="c26">/base_command command_name </span><span class="c26">3</span><sup><a href="#cmnt6" name="cmnt_ref6">[f]</a></sup></p><p class="c6"><span class="c26">/denizen scripts 3</span></p><p class="c0"><span class="c5"></span></p><h2 class="c6"><a name="h.n7mmbfdsdoj1"></a><span class="c39 c23">Denizen CommandS</span></h2><p class="c0"><span></span></p><p class="c6"><span>Denizen commands provide a way to view and configure key components of Denizen, such as version checking and script listings.</span></p><p class="c6"><span>Valid commands: </span><span class="c41">version, reload, save, scripts, debug</span></p><a href="#" name="41b55811e160cdb311e3248a9a9cc82e1ec7d192"></a><a href="#" name="2"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c49"><p class="c0"><span class="c8"></span></p><p class="c6"><span class="c8">/denizen version</span></p><p class="c0"><span class="c8"></span></p><p class="c6"><span>Displays the version and build information about the copy of denizen currently loaded. Will also show currently loaded &lsquo;extensibles&rsquo;.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Example:</span></p><p class="c6"><span class="c26">/denizen version</span></p><p class="c0 c1"><span class="c5"></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span class="c8"></span></p><p class="c0"><span class="c8"></span></p><p class="c6"><span class="c8">/denizen reload</span></p><p class="c0"><span class="c5 c4"></span></p><p class="c6"><span>Reloads key disk files into memory, overwriting the copy currently in memory. Must specify which file to reload, or -a for all. Valid values are: </span><span class="c16 c41">scripts,</span><span>&nbsp;</span><span class="c16 c41">saves,</span><span>&nbsp;</span><span class="c16 c41">config </span><span>or the </span><span class="c16 c41">-a </span><span>flag</span><span class="c16 c41">.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/denizen reload -a</span></p><p class="c6"><span class="c26">/denizen reload scripts</span></p><p class="c0"><span class="c8"></span></p><p class="c6"><span class="c41">Note: When reloading the config, some values require a server-reboot to take effect.</span></p><p class="c0 c1"><span class="c5"></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span class="c8"></span></p><p class="c6"><span class="c8">/denizen debug</span></p><p class="c0"><span class="c8"></span></p><p class="c6"><span>Enables or disables the debug-output in Denizen. When writing scripts and troubleshooting, debug output can provide very useful information on the flow of commands and any problems that may occur. Using the </span><span class="c16 c41">-s</span><span>&nbsp;flag will enable stacktraces, allowing some nitty-gritty error messages for when something seriously goes on. If getting help in #denizen-dev, it&rsquo;s likely that we&rsquo;ll ask you to enable this and provide us with the feedback.</span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span></span></p></td><td class="c49"><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/denizen debug</span></p><p class="c6"><span class="c26">/denizen debug -s</span></p><p class="c0"><span class="c8"></span></p><hr><p class="c0 c1"><span class="c8"></span></p><p class="c0"><span class="c8"></span></p><p class="c6"><span class="c8">/denizen save</span></p><p class="c0 c1"><span></span></p><p class="c6"><span>Saves the contents of the &lsquo;dScript saves&rsquo; in memory to disk as saves.yml. Useful for editing the contents while the server is running, using /denizen reload. </span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Example:</span></p><p class="c6"><span class="c26">/denizen save</span></p><p class="c0"><span></span></p><p class="c6"><span class="c41">Note: When using Denizen as a production server, there are key events that auto-save the saves.yml, so it&rsquo;s encouraged that saves.yml be edited only while the server is off. &nbsp;When using on a development server, server action should be brought to a minimum while editing saves.yml.</span></p><p class="c0 c1"><span class="c5"></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c6"><span class="c8">/denizen scripts</span></p><p class="c6"><span class="c40 c41">Note: This command </span><span class="c40 c41">may </span><span class="c40 c41">be moved to /dscript list some time before release.</span></p><p class="c0"><span></span></p><p class="c6"><span>Shows a list of scripts currently loaded into Denizen. Used alone, it lists all scripts, identified by type and name. Use an integer to specify which page to view. Using a </span><span class="c16 c41">type</span><span>&nbsp;flag will cut down the search results to a specific type. Valid core types include: </span><span class="c41">assignment, interact, task, and activity.</span><span>&nbsp;Using the </span><span class="c16 c41">filter </span><span>flag will limit results to a specific search string.</span></p><p class="c0"><span></span></p><p class="c6"><span>Examples:</span></p><p class="c6"><span class="c26">/denizen scripts 4</span></p><p class="c6"><span class="c26">/denizen scripts --type assignment</span></p><p class="c6"><span class="c26">/denizen scripts --filter &lsquo;hall monitor&rsquo;</span></p></td></tr></tbody></table><h2 class="c10 c6"><a name="h.fkkrbpj7rytp"></a></h2><h2 class="c6"><a name="h.9ehdfidlt3n8"></a><span class="c39 c23">NPC CommandS</span></h2><p class="c0"><span></span></p><p class="c6"><span>To provide add-on features seamlessly to Citizens, Denizen extends the /npc bukkit command to provide an interface with the additional traits added. Some commands listed here are core Citizens commands, provided here since they are commonly used with Denizen features. </span><span class="c41">(</span><span class="c22 c41">DENIZEN! </span><span class="c41">indicates new NPC commands that are available only with Denizen.)</span></p><a href="#" name="a61b4c0c1d6e27a44ac2398a26ee48bc94dca710"></a><a href="#" name="3"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c49"><p class="c0"><span></span></p><p class="c6 title"><a name="h.86psxnjlvpb0"></a><span>/</span><span class="c8">npc create</span></p><p class="c0"><span class="c8"></span></p><p class="c6"><span>The command to create a new NPC. Must provide a string name. Can also specify a </span><span class="c41">type</span><span>&nbsp;flag which will change the EntityType of the NPC.</span></p><p class="c6"><span>&nbsp;</span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc create Jack</span></p><p class="c6"><span class="c26">/npc create Henry the Great --type enderman</span></p><p class="c6"><span class="c26">/npc create Susan --type cow</span></p><p class="c0 c1"><span class="c5"></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span class="c5 c4"></span></p><p class="c6 title"><a name="h.otpx4l5zsyga"></a><span class="c8">/npc select</span></p><p class="c0"><span class="c5 c4"></span></p><p class="c6"><span>Selects a NPC to work with. Used alone, it will select the nearest NPC in range. A npcid may also be specified to select a specific NPC.</span></p><p class="c6"><span>&nbsp;</span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc select</span></p><p class="c6"><span class="c26">/npc select 10</span></p><p class="c0 c1"><span class="c5"></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span class="c5 c4"></span></p><p class="c6"><span class="c8">/npc vulnerable</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span>Allows a NPC to be damaged, and killed. Also required (in most cases) when using the &lsquo;health trait&rsquo; that is provided with Denizen. Use the </span><span class="c16 c41">-t</span><span>&nbsp;flag to indicate the vulnerability to be temporary. When temporary, vulnerability will not persist through a restart.</span></p><p class="c6"><span>&nbsp;</span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc vulnerable</span></p><p class="c6"><span class="c26">/npc vulnerable -t</span></p><p class="c0 c1"><span class="c5"></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c8 c22">DENIZEN</span><span class="c8 c22">!</span><span class="c8">&nbsp;</span><span class="c8">/npc health</span></p><p class="c0"><span class="c8"></span></p><p class="c6"><span>Modifies the current and maximum health of a NPC. While being vulnerable is not required, NPCs cannot lose any health without being vulnerable. By default, NPCs are invulnerable, unable to be damaged. Using the set flag will specify a new max-health. Using the -r flag will reset the NPCs current health to max. Using /npc health with no additional arguments will provide current status.</span></p><p class="c6"><span>&nbsp;</span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc health</span></p><p class="c6"><span class="c26">/npc health --set 100</span></p><p class="c6"><span class="c26">/npc health -r</span></p><p class="c0"><span></span></p><p class="c6"><span class="c41">Note: Using /npc health assigns the health trait to an NPC automatically. It can also be assigne or removed with /trait health.</span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span class="c4"></span></p><p class="c1 c6"><a name="h.4kpsceio13i9"></a><span class="c8">/npc playerlist</span></p><p class="c0 c1"><a name="h.vdzhqfi8zwut"></a></p><p class="c6"><span>In order for vulnerable NPCs to be attacked by Minecraft Monsters, the NPC must be added back into the Bukkit Playerlist. This treats a NPC like a Player, and should be noted that it could conflict with some external plugins. When using this feature, there may also be slightly increased overhead, so it should only be used when necessary.</span></p><p class="c6"><span>&nbsp;</span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc playerlist</span></p><p class="c0"><span></span></p><p class="c6"><span class="c41">Note: /npc playerlist only works on Player-Type NPCs.</span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c8 c22">DENIZEN</span><span class="c8 c22">!</span><span class="c8">&nbsp;/npc pushable</span></p><p class="c0"><span></span></p><p class="c6"><span>Moves NPCs out of the way when colliding with a Player. Default Citizens behavior is to allow clipping on NPC objects, allowing Players and NPCs to occupy the same space. Can also specify that the NPC be returnable using the -r flag. After being pushed, a returnable NPC will return to its previous location after a delay, which can be specified with the delay flag. Once the pushable trait is enabled, the actual push behavior can be toggled with the -t flag.</span></p><p class="c6"><span>&nbsp;</span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc pushable</span></p><p class="c6"><span class="c26">/npc pushable -r --delay 6</span></p><p class="c6"><span class="c26">/npc pushable -t</span></p><p class="c0"><span></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c8 c22">DENIZEN!</span><span class="c8">&nbsp;/npc SIT/STAND</span></p><p class="c0"><span></span></p><p class="c6"><span>Puts the NPC in the sitting position. If a specific location is desired, it can be specified with the </span><span class="c16">location</span><span>&nbsp;flag, using the location format x,y,z,world_name, or alternatively, an anchor can be specified by using the </span><span class="c16">anchor</span><span>&nbsp;flag with the name of the anchor as the value. If you wish to make the NPC sit on the location of your cursor, use the </span><span class="c16">-c </span><span>flag. Using the /npc stand command, or initiating navigation on a NPC will make the NPC assume a standing postion.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc sit --location 128,64,64,world</span></p><p class="c6"><span class="c26">/npc sit</span></p><p class="c6"><span class="c26">/npc sit --anchor chair_location</span></p><p class="c6"><span class="c26">/npc sit -c</span></p><p class="c6"><span class="c26">/npc stand</span></p><p class="c0"><span></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span class="c8 c22">DENIZEN!</span><span class="c8">&nbsp;/npc NAMEPLATE</span></p><p class="c0"><span></span></p><p class="c6"><span>Changes the color of a NPCs nameplate. </span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc nameplate red</span></p></td><td class="c49"><p class="c0 title"><a name="h.17oqjpog4p7o"></a></p><p class="c6 title"><a name="h.61d14hevtltn"></a><span class="c8 c22">DENIZEN</span><span class="c8 c22">!</span><span class="c8">&nbsp;</span><span class="c8">/npc assignment</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span>Used to specify and view the current assignment of an NPC. Also adds the trigger and constants trait to the NPC. To set an assignment, use the set flag with the name of the script as a value. Remember: Only assignment-type scripts can be assigned. To view information on the current assignment, use </span><span class="c41">/npc assignment</span><span>. Using the -r flag will remove the current assignment.</span></p><p class="c6"><span>&nbsp;</span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc assignment</span></p><p class="c6"><span class="c26">/npc assignment --set &lsquo;town sheriff&rsquo;</span></p><p class="c0 c1"><span class="c5"></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span></span></p><p class="c6 title"><a name="h.u98g97cd36f8"></a><span class="c8 c22">DENIZEN!</span><span class="c8">&nbsp;/npc trigger</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span>Controls the various settings of interact-script triggers. To specify a trigger, use a string of the name. Use in combination of the </span><span class="c41">-t</span><span>&nbsp; flag to toggle the trigger on or off. Using the cooldown flag allows the default cooldown for a trigger to be overridden on a NPC level. Changing the cooldown in this manner only affects the selected NPC. Triggers with range settings can also be modified using the radius flag. Using /npc trigger alone displays an overview of all available triggers for the selected NPC.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc trigger</span></p><p class="c6"><span class="c26">/npc trigger </span><span class="c26">chat</span><span class="c26">&nbsp;-t</span></p><p class="c6"><span class="c26">/npc trigger proximity --radius 15</span></p><p class="c6"><span class="c26">/npc trigger damage --cooldown 0.5</span></p><p class="c0 c1"><span class="c5"></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span></span></p><p class="c6"><span class="c8 c22">DENIZEN!</span><span class="c8">&nbsp;/npc constant</span></p><p class="c0"><span class="c8"></span></p><p class="c6"><span>Constants are saved strings, or &lsquo;pre-set variables&rsquo; that can be set in either an assignment script, or specified at the NPC-level. Constants set to a NPC will override any values also found set in an assignment. With the use of the /npc constant server command, dScripts can be &lsquo;configurable&rsquo; in-game.</span></p><p class="c6"><span>To set a constant, use the </span><span class="c16 c41">set</span><span>&nbsp;flag with a value of the constant name, along with a </span><span class="c16 c41">value </span><span>flag along with the new value of the constant. Constants can also be removed using the remove flag. Using </span><span class="c41">/npc constant</span><span>&nbsp;will show any constants currently known to the specified NPC.</span></p><p class="c0"><span class="c16"></span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc constant --remove allowed_items</span></p><p class="c6"><span class="c26">/npc constant --set &lsquo;welcome message&rsquo;</span></p><p class="c6"><span class="c26">&nbsp; &nbsp; &nbsp;--value &lsquo;Welcome to my village!&rsquo;</span></p><p class="c0"><span></span></p><p class="c6"><span class="c41">Note: Constants are available for use within dScripts with use of a constant replaceable tag. </span><span>&nbsp;</span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span></span></p><p class="c6"><span class="c8 c22">DENIZEN</span><span class="c8 c22">!</span><span class="c8">&nbsp;/npc nickname</span></p><p class="c0"><span></span></p><p class="c6"><span>Nicknames are NPC names on steroids. They are similar to Player display names, but also allow for a level of dynamic content to be used, since they allow the use of replaceable tags. Use the set flag to change a NPCs nickname. When used without any flags, the current nickname is shown. To remove a nickname, use the -r flag.</span></p><p class="c0"><span class="c16"></span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc nickname</span></p><p class="c6"><span class="c26">/npc nickname -r</span></p><p class="c6"><span class="c26">/npc nickname --set &lsquo;&lt;magic&gt;&lt;npc.name&gt;&lt;gold&gt;, </span></p><p class="c6"><span class="c26">&nbsp; &nbsp; &nbsp;the friendly Wizard&rsquo;</span></p><p class="c6"><span class="c26">/npc nickname --set &lsquo;&lt;npc.name&gt;, of Clan</span></p><p class="c6"><span class="c26">&nbsp; &nbsp; &nbsp;&lt;flag.n:clan_name&gt;&rsquo;</span></p><p class="c0"><span class="c41"></span></p><p class="c6"><span class="c41">Note: Nicknames, at this time, do not affect the &lsquo;nameplate&rsquo; above player-type NPCs. This feature request may become possible in the future. To reference a NPCs nickname use the &lt;npc.name.nickname&gt; tag.</span><span>&nbsp; </span></p><p class="c0"><span></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c8 c22">DENIZEN!</span><span class="c8">&nbsp;/npc FISH/STOPFISHING</span></p><p class="c0"><span></span></p><p class="c6"><span>Makes the NPC </span><span>cas</span><span>t a fishing line to a position specified with the </span><span class="c16">location</span><span>&nbsp;flag, using the location format x,y,z,world_name, or alternatively, an anchor by using the </span><span class="c16">anchor</span><span>&nbsp;flag with the name of the anchor as the value. If you wish to make the NPC cast to the location of your cursor, use the </span><span class="c16">-c </span><span>flag. Using the /npc stopfishing command, the NPC will reel in its line.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc fish --location 128,64,64,world</span></p><p class="c6"><span class="c26">/npc fish -c</span></p><p class="c6"><span class="c26">/npc fish --anchor chair_location</span></p><p class="c6"><span class="c26">/npc stopfishing</span></p><p class="c0"><span></span></p><hr><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c8 c22">DENIZEN!</span><span class="c8">&nbsp;/npc SLEEP/WAKEUP</span></p><p class="c0"><span></span></p><p class="c6"><span>Makes the NPC sleep on a position specified with the </span><span class="c16">location</span><span>&nbsp;flag, using the location format x,y,z,world_name, or alternatively, an anchor by using the </span><span class="c16">anchor</span><span>&nbsp;flag with the name of the anchor as the value. &nbsp;When using the /npc wakeup command, the NPC will stop sleeping.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/npc sleep --location 128,64,64,world</span></p><p class="c6"><span class="c26">/npc sleep --anchor chair_location</span></p><p class="c6"><span class="c26">/npc wakeup</span></p><p class="c0 c1"><span></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span></span></p></td></tr><tr class="c45"><td class="c20"><p class="c0 c1"><span class="c5"></span></p></td><td class="c20"><p class="c0 c1"><span class="c5"></span></p></td></tr></tbody></table><h2 class="c6"><a name="h.lyti8bp7tsli"></a><span class="c39 c23">EXPERIMENTAL Commands </span></h2><p class="c0"><span></span></p><p class="c6"><span>These are some commands that are currently in Denizen that are considered &lsquo;experimental&rsquo;. Expect the syntax and usage of these commands to be changed before the final release.</span></p><p class="c0"><span class="c5"></span></p><a href="#" name="147426334f46d86c14bf436e86ccde949243fc3f"></a><a href="#" name="4"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c49"><p class="c0"><span></span></p><p class="c6 title"><a name="h.kqt8w3x114r7"></a><span>/</span><span class="c8">dtime #</span></p><p class="c0"><span class="c8"></span></p><p class="c6"><span>To be used with the World Script &lsquo;On Time&rsquo; event. Minecraft time 0 = 6:00 in dTime. dTime is based on a 24 hour clock.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/dtime 6</span></p><p class="c6"><span class="c26">/dtime 23</span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span></span></p></td><td class="c49"><p class="c0 title"><a name="h.5l8nggbiazso"></a></p><p class="c6 title"><a name="h.x50fcrlpmzjc"></a><span class="c8">/notable add</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span>Adds a &lsquo;notable location&rsquo; which is used throughout Denizen asa &lsquo;location bookmark&rsquo; of sorts. Used in the World Script event &lsquo;on walk over...&rsquo;. Use the name flag to name the location.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Examples:</span></p><p class="c6"><span class="c26">/notable add --name &lsquo;secret spot 1&rsquo;</span></p><p class="c6"><span class="c26">/notable add --name treasure</span></p><p class="c0"><span class="c26"></span></p><p class="c0 c1"><span class="c5"></span></p><p class="c0"><span></span></p></td></tr><tr class="c45"><td class="c20"><p class="c0 c1"><span class="c5"></span></p></td><td class="c20"><p class="c0 c1"><span class="c5"></span></p></td></tr></tbody></table><h3 class="c6 c78"><a name="h.tfer9hq0lr3f"></a></h3><p class="c0"><span class="c3"></span></p><p class="c0"><span class="c3"></span></p><p class="c0"><span></span></p><h2 class="c10 c6"><a name="h.t4c63pu5t4r8"></a></h2><hr style="page-break-before:always;display:none;"><h2 class="c10 c6"><a name="h.cpscrm2qmnk6"></a></h2><h2 class="c6"><a name="h.gyx7syf1sus6"></a><span class="c39 c23">Loading scripts</span><img height="209" src="images/image02.png" width="426"></h2><p class="c0"><span></span></p><p class="c6 c46"><span>Let&rsquo;s go through the process of using an existing script. Because of the custom nature of Denizen and dScript, scripts in general may have other criteria to be successfully loaded, but the process should fairly straightforward once the basics are understood, and a good script will make it easy to set itself up.</span></p><p class="c0 c46"><span></span></p><p class="c6 c46"><span>Scripts loaded into Denizen should be in a valid YAML format and use either a .yml or .dscript file extension. They can be placed into the /scripts/ folder (or any sub-folder in /scripts/) before the server starts up, or after the server is already running by using the &lsquo;/denizen reload scripts&rsquo; command. This allows scripts to be edited and reloaded on the fly, useful for tweaking and developing scripts. Keep an eye on the console when loading a new script as Bukkit will throw an exception if any invalid YAML is detected, in which case Denizen will simply ignore the script. If otherwise successful, Denizen will leave a message that the script has been loaded.</span></p><p class="c0"><span class="c5 c4"></span></p><h3 class="c6 c78"><a name="h.6jnr9816ph3h"></a></h3><a href="#" name="1f88599454d3a6cfc9988c86d70d5bdd1261ad04"></a><a href="#" name="5"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr><td class="c48"><p class="c1 c6"><a name="h.rusx8lmyjbdl"></a><span class="c26 c77">Using Cookies.dscript</span></p></td><td class="c48 c51"><p class="c1 c6"><a name="h.nwmjymx0m6gz"></a><span class="c26">Cookies.dscript</span><sup><a href="#cmnt7" name="cmnt_ref7">[g]</a></sup></p></td></tr><tr><td class="c108"><p class="c6"><span>Use the &lsquo;Cookies&rsquo; script as a first example. You can either copy and paste the contents of the script, or download it on the Citizens Script Repo (</span><span class="c18"><a class="c21" href="http://scripts.citizensnpcs.com/view/kx78np">http://scripts.citizensnpcs.com/view/kx78np</a></span><span>).</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Step 1</span><span>: Create a new YAML document and copy the contents</span></p><p class="c25 c6"><span>of the script in the table, or download the script.</span></p><p class="c25 c6"><span class="c16">Step 2:</span><span>&nbsp;Place it into the /plugins/Denizen/scripts/ folder.</span></p><p class="c6"><span class="c16">Step 3</span><span>: Start your server, or if already started, use </span><span class="c26 c59">/denizen</span></p><p class="c25 c6"><span class="c26 c59">reload scripts</span></p><p class="c6"><span class="c16">Step 4:</span><span>&nbsp;Ensure the script has successfully loaded.</span></p><p class="c6"><span>If the script has produced errors, then check that validity of the YAML document. dScript sits on top of the YAML framework and should follow all YAML rules. To check if the</span></p><p class="c25 c6"><span>script is loaded, use</span><span>&nbsp;</span><span class="c26 c59">/denizen scripts</span></p><p class="c25 c6"><span class="c16">Step 5</span><span>: Create a new NPC, or select an existing one.</span></p><p class="c6"><span class="c16">Step 6</span><span>: Use the command</span><span class="c26">&nbsp;</span><span class="c26 c59">/npc assignment --set</span></p><p class="c25 c6"><span class="c26 c59">cookies</span></p><p class="c0 c1"><span></span></p><p class="c6"><span>Your NPC is now interact-able, and gives away cookies. Easy peasy! Remember: the script can now be edited at any point, and simply reloaded. Ready for your first customization?</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Step 1:</span><span>&nbsp;Change the random entry in the click trigger for step</span></p><p class="c25 c6"><span>&lsquo;Spreading the Word&rsquo; from 3 to 4.</span></p><p class="c6"><span class="c16">Step 2:</span><span>&nbsp;Add an additional chat entry below - chat &lsquo;Cocoa and</span></p><p class="c25 c6"><span>wheat make me freak!&rsquo; </span></p><p class="c25 c6"><span class="c16">Step 3:</span><span>&nbsp;Save the file (make sure it is in the /saves/ folder!)</span></p><p class="c6 c25"><span class="c16">Step 4:</span><span>&nbsp;Use the command </span><span class="c2">/denizen reload scripts</span></p><p class="c0 c1"><span></span></p><p class="c6"><span>The changes will be immediate at that point. &nbsp;When talking with the NPC, it will now choose between the 3 existing chats, or the additional one added, when clicked. It&rsquo;s worth noting here that multiple NPCs can have the same assignment.</span></p></td><td class="c108"><p class="c1 c6"><span class="c9"># COOKIES is a small interact script example for 0.8.4+</span></p><p class="c1 c6"><span class="c9"># This script is kept simple to allow a base scripting <br># example to extend upon. Tell the npc &#39;cookies&#39; and get</span></p><p class="c1 c6"><span class="c9"># a treat!<br></span><span class="c14"><br></span><span class="c3">&quot;Cookies&quot;:</span><sup><a href="#cmnt8" name="cmnt_ref8">[h]</a></sup><span class="c3"><br> &nbsp; &nbsp;</span><span class="c3">type: assignment</span><sup><a href="#cmnt9" name="cmnt_ref9">[i]</a></sup><span class="c3"><br><br> &nbsp; &nbsp;</span><span class="c3">interact scripts:</span><sup><a href="#cmnt10" name="cmnt_ref10">[j]</a></sup><span class="c3"><br> &nbsp; &nbsp;</span><span class="c3">- 10 Cookie Greeting</span></p><p class="c0 c1"><span class="c3"></span></p><p class="c1 c6"><span class="c3">&nbsp; &nbsp; </span><span class="c3">actions:</span></p><p class="c1 c6"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c3">on assignment:</span><sup><a href="#cmnt11" name="cmnt_ref11">[k]</a></sup></p><p class="c1 c6"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c3">- trigger name:chat toggle:true</span><sup><a href="#cmnt12" name="cmnt_ref12">[l]</a></sup></p><p class="c1 c6"><span class="c3"><br>&#39;Cookie Greeting&#39;:<br> &nbsp; &nbsp;type: interact<br></span></p><p class="c1 c6"><span class="c3">&nbsp; &nbsp; </span><span class="c3">steps:</span><sup><a href="#cmnt13" name="cmnt_ref13">[m]</a></sup><span class="c3"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&#39;Spreading the Word*&#39;:</span><sup><a href="#cmnt14" name="cmnt_ref14">[n]</a></sup><span class="c3"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">click trigger:</span><sup><a href="#cmnt15" name="cmnt_ref15">[o]</a></sup></p><p class="c1 c6"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c3">script:</span><sup><a href="#cmnt16" name="cmnt_ref16">[p]</a></sup><span class="c3"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- random 3<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- chat &#39;I like cookies!&#39;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- chat &#39;MMmm.. cookies are my</span></p><p class="c1 c6"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; favorite!&#39;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- chat &#39;Cocoa and wheat make </span></p><p class="c1 c6"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; me freak!&#39;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">chat trigger:</span><sup><a href="#cmnt17" name="cmnt_ref17">[q]</a></sup><span class="c3"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&#39;Cookies&#39;:</span><sup><a href="#cmnt18" name="cmnt_ref18">[r]</a></sup><span class="c3"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">trigger: &#39;I love /cookie/s!&#39;</span><sup><a href="#cmnt19" name="cmnt_ref19">[s]</a></sup><span class="c3"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;script: <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- chat &#39;Me too!&#39;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- narrate &#39;&lt;npc.name&gt; gives </span></p><p class="c1 c6"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; you some cookies.&#39;</span></p><p class="c1 c6"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; - give item:cookie qty:6<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">- zap &#39;step:Cookies given&#39;<br></span><sup><a href="#cmnt20" name="cmnt_ref20">[t]</a></sup><span class="c3"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&#39;Cookies given&#39;:</span><sup><a href="#cmnt21" name="cmnt_ref21">[u]</a></sup><span class="c3"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">click trigger:</span><sup><a href="#cmnt22" name="cmnt_ref22">[v]</a></sup><span class="c3"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;script:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- chat &#39;How were the cookies?&#39;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- zap &#39;step:Spreading the Word&rsquo;</span></p><p class="c0 c1"><a name="h.9xvqkxdirccs"></a></p></td></tr></tbody></table><h3 class="c6 c78"><a name="h.njcb9dyd26lg"></a></h3><h1 class="c73 c6"><a name="h.tx22qai7vu84"></a></h1><h1 class="c73 c6"><a name="h.wpabvq351wy6"></a></h1><h1 class="c6"><a name="h.e268ywt4zy7f"></a><span class="c39 c50">Getting started with dScript</span></h1><p class="c6"><span>dScript is the scripting language that powers Denizen. Getting to know how everything works together is the first step in learning how to customize and create scripts. Consider this the next &lsquo;scope&rsquo; of using Denizen. While you can get away with not knowing the nitty-gritty when using Denizen to load and use </span><span>pre-made</span><span>&nbsp;scripts, when customizing and creating, knowing how to format and use dScript is the first step.</span><img height="417" src="images/image01.png" width="450"></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Getting Started: </span><span>Your first custom script v</span><span>ideo,</span><span class="c16">&nbsp;</span><span class="c18"><a class="c21" href="http://www.youtube.com/watch?v=SGf5Phmqqj8">Hello World</a></span><span class="c5 c4">!</span></p><p class="c6"><span class="c5 c4">&nbsp;</span></p><h2 class="c6"><a name="h.bhds7scelqhx"></a><span class="c39 c23">YAML BASICS </span></h2><p class="c0"><span></span></p><p class="c6"><span>Denizen&rsquo;s dScript Script Containers use YAML at the core, so getting familiar with YAML is a great thing. Below is a crash-course with some basics laid out here to help understand scripting structure and syntax. </span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">1. Keys and Values</span></p><p class="c0"><span></span></p><p class="c6"><span>Every value in dScript belongs, in one way or another, to some kind of &lsquo;key&rsquo;. To define a key, use a string value plus a colon (:). Keys can have a single value, a list value, or own another key. </span></p><p class="c0"><span></span></p><p class="c6"><span>Here are some basic examples. Click on each line to learn a little bit more.</span></p><p class="c0"><span class="c3"></span></p><a href="#" name="6cb92a4922e59216a9ae7fc7f759a784977f02d1"></a><a href="#" name="6"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c82"><td class="c81"><p class="c1 c6"><span class="c3">Generic, verbose examples:</span></p></td><td class="c76"><p class="c1 c6"><span class="c3">Example dScript (in no particular order):</span></p></td></tr><tr class="c45"><td class="c95"><p class="c25 c6"><span class="c3">standard key: standard value</span><sup><a href="#cmnt23" name="cmnt_ref23">[w]</a></sup></p><p class="c1 c6"><span class="c3">list key:</span></p><p class="c1 c6"><span class="c3">- a list value</span></p><p class="c1 c6"><span class="c3">- a multi-line</span></p><p class="c1 c6"><span class="c3">&nbsp; value</span></p><p class="c25 c6"><span class="c3">- another value</span><sup><a href="#cmnt24" name="cmnt_ref24">[x]</a></sup></p><p class="c25 c6"><span class="c3">single line list key: [value, value 2]</span><sup><a href="#cmnt25" name="cmnt_ref25">[y]</a></sup></p><p class="c6"><span class="c3">parent key:</span></p><p class="c1 c6"><span class="c3">&nbsp; child key: child&rsquo;s value</span><sup><a href="#cmnt26" name="cmnt_ref26">[z]</a></sup></p></td><td class="c95"><p class="c25 c6"><span class="c3">type: interact</span><sup><a href="#cmnt23" name="cmnt_ref23">[w]</a></sup></p><p class="c1 c6"><span class="c3">script:</span></p><p class="c1 c6"><span class="c3">- drop item:diamond qty:5</span></p><p class="c1 c6"><span class="c3">- chat &ldquo;Looks like you could use some</span></p><p class="c1 c6"><span class="c3">&nbsp; sparkle! Have some diamonds.&rdquo;</span></p><p class="c25 c6"><span class="c3">- narrate &lsquo;Nice, diamonds!&rsquo;</span><sup><a href="#cmnt24" name="cmnt_ref24">[x]</a></sup></p><p class="c25 c6"><span class="c3">list: [sunny, sneaking]</span><sup><a href="#cmnt25" name="cmnt_ref25">[y]</a></sup></p><p class="c6"><span class="c3">&rsquo;Example Script&rsquo;:</span></p><p class="c1 c6"><span class="c3">&nbsp; type: interact</span><sup><a href="#cmnt26" name="cmnt_ref26">[z]</a></sup></p></td></tr></tbody></table><p class="c0 c1"><span class="c3"></span></p><p class="c0 c1"><span class="c3"></span></p><p class="c1 c6"><span class="c16">2. Spacing and tabs</span><span>&nbsp;</span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span>When regarding tabs, though there are some &lsquo;technical&rsquo; uses, they should pretty much never be used. &nbsp;The best way to handle this situation is to equip yourself with a good text editor. Both Sublime Text and Notepad++ are good alternatives to notepad which have a &lsquo;tabs-&gt;spaces&rsquo; feature. Enabling this will take care of quite a few headaches when properly formatting dScript.</span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span>Spacing is probably the most important thing about a dScript. &nbsp;The YAML </span><span>parser</span><span>&nbsp;uses spacing to determine ownership, as already brushed upon briefly. A good tip is to stick with either 2 or 4 spaces, and keep it consistent! &nbsp;Another important concept to understand is the structure of the </span><span>&lsquo;s</span><span>cript </span><span>c</span><span>ontainer</span><span>&rsquo;</span><span>, and a general sense of object orientation.</span></p><p class="c0 c1"><span></span></p><p class="c6"><span>Here are some basic examples. Click on each line to learn a little bit more.</span></p><p class="c0"><span class="c3"></span></p><a href="#" name="feeefcbe4f1a2648ff59635ab14091f40fc468f6"></a><a href="#" name="7"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c82"><td class="c81"><p class="c1 c6"><span class="c3">A sample item script container:</span></p></td><td class="c76"><p class="c1 c6"><span class="c3">A sample assignment script:</span></p></td></tr><tr class="c45"><td class="c95"><p class="c6"><span class="c3">&ldquo;Ratted_Paper&rdquo;:</span><sup><a href="#cmnt27" name="cmnt_ref27">[aa]</a></sup></p><p class="c6"><span class="c3">&nbsp; &nbsp; type: item</span></p><p class="c0"><span class="c3"></span></p><p class="c6"><span class="c3">&nbsp; &nbsp; </span><span class="c3">material: paper</span><sup><a href="#cmnt28" name="cmnt_ref28">[ab]</a></sup></p><p class="c6"><span class="c3">&nbsp; &nbsp; display name: A ratted piece of paper</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; </span><span class="c3">lore:</span><sup><a href="#cmnt29" name="cmnt_ref29">[ac]</a></sup></p><p class="c6"><span class="c3">&nbsp; &nbsp; - &quot;[worthless]&quot;</span></p></td><td class="c95"><p class="c6"><span class="c3">&ldquo;The Clicker&rdquo;:</span></p><p class="c6"><span class="c3">&nbsp; type: assignment</span></p><p class="c0"><span class="c3"></span></p><p class="c6"><span class="c3">&nbsp; </span><span class="c3">actions:</span><sup><a href="#cmnt30" name="cmnt_ref30">[ad]</a></sup></p><p class="c6"><span class="c3">&nbsp; &nbsp; </span><span class="c3">on assignment:</span><sup><a href="#cmnt31" name="cmnt_ref31">[ae]</a></sup></p><p class="c6"><span class="c3">&nbsp; &nbsp; - flag npc clicks:0</span></p><p class="c0"><span class="c3"></span></p><p class="c6"><span class="c3">&nbsp; &nbsp; </span><span class="c3">on click:</span><sup><a href="#cmnt32" name="cmnt_ref32">[af]</a></sup></p><p class="c6"><span class="c3">&nbsp; &nbsp; - flag npc clicks:++</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; - chat &ldquo;I&rsquo;ve been clicked &lt;flag.p:clicks&gt;</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; &nbsp; times!&rdquo;</span></p></td></tr></tbody></table><p class="c0 c1"><span class="c16"></span></p><p class="c1 c6"><span class="c16">3. Illegal characters/character sequences</span></p><p class="c0 c1"><span class="c16"></span></p><p class="c1 c6"><span>A lot of headaches can be taken care of by knowing ahead of time some of the characters/character sequences that may cause problems with YAML. For the most part, take care when using characters: </span><span class="c26">#, !, $, %, &amp;, -, +, &lt; and &gt;</span><span>, as they are often used as operators in YML and dScript. If you are running into what seems like a bug, check to make sure special characters are where they belong. Most special characters have a replaceable tag alternative if you are wanting to use it in a literal sense inside of a script entry.</span></p><p class="c0 c1"><span></span></p><p class="c6"><span>Here&rsquo;s a popular example many people run into:</span></p><p class="c0"><span class="c3"></span></p><a href="#" name="7367d47885a36a26da5a61c0642dbb60e2dad455"></a><a href="#" name="8"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c82"><td class="c81"><p class="c1 c6"><span class="c3">Error-prone:</span></p></td><td class="c76"><p class="c1 c6"><span class="c3">Workaround:</span></p></td></tr><tr class="c45"><td class="c95"><p class="c25 c6"><span class="c3">- chat &lsquo;You can say: Apples, Carrots or Fish.&rsquo;</span><sup><a href="#cmnt33" name="cmnt_ref33">[ag]</a></sup></p></td><td class="c95"><p class="c25 c6"><span class="c3">- chat &lsquo;You can say&lt;&amp;co&gt; Apples, Carrots or Fish.&rsquo;</span><sup><a href="#cmnt33" name="cmnt_ref33">[ag]</a></sup></p></td></tr></tbody></table><p class="c0 c1"><span></span></p><p class="c1 c6"><span>If using these characters in a literal sense &nbsp;is necessary, and you run into an issue parsing, many times the problem can be remedied by using a &lsquo;special character&rsquo; replaceable tag. See: </span><span class="c18"><a class="c21" href="#id.7gk9d3vkxllb">Appendix S: The Special Character Replaceable Tags</a></span></p><p class="c0 c1"><span></span></p><p class="c0 c1"><span class="c16"></span></p><p class="c1 c6"><span class="c16">4. Parse it first!</span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span>A lot of simple formatting issues can be taken care of if you take the time to parse your script before attempting to load it into Denizen. Though doing so doesn&rsquo;t catch any dScript errors, it will see problems that will keep the script from loading at all. Invalid YAML will not load into Denizen, period.</span></p><p class="c0 c1"><span class="c3"></span></p><p class="c1 c6"><span>Here&rsquo;s a handy link: </span><span class="c18"><a class="c21" href="http://yaml-online-parser.appspot.com/">http://yaml-online-parser.appspot.com/</a></span></p><p class="c0 c1"><span></span></p><p class="c0 c1"><span></span></p><a href="#" name="3ba1df09b98f12532e00643323c50444abe25d69"></a><a href="#" name="9"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr><td class="c38"><p class="c1 c6"><img height="276" src="images/image03.png" width="866"></p></td></tr></tbody></table><p class="c0 c1"><span></span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span>Pasting your script into the Online YAML Parser will show any errors in your script with some information that can help track down the issue. Keep in mind that the line causing the error may not always be what the parser complains about, as it may have been interpreted in some other way, only to cause an error a bit further down. In the example above, however, looking between the two lines reported gives a good clue as to where the problem lays.</span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c0 c1"><span class="c5 c4"></span></p><h2 class="c1 c6"><a name="h.7q36gpu8muow"></a><span class="c39">script containers</span></h2><p class="c0 c1"><span class="c8 c50"></span></p><p class="c1 c6"><span class="c15">Denizen uses a very simple base script structure called a &lsquo;script container&rsquo; to provide a unified way to control your Minecraft server. Using this interface, different &lsquo;script types&rsquo; are able to be combined and used together in dScript files. Bundled by default are a slew of different script container types (generally just called &lsquo;scripts&rsquo;) that all provide different levels of functionality.</span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c1 c6"><span class="c8 c5 c57">npc SCripts</span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c1 c6"><span class="c16">Assignment Scripts</span><span>&nbsp;are bound to Citizens2 NPCs and provide a range of features allowing NPCs to become interact-able and pseudo-sentient. This includes actions, which are a lot like events, but unique to the NPC itself, interact script assignments, which allow a great degree of interaction control from Players, and more.</span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c1 c6"><span class="c16">Interact Scripts</span><span>&nbsp;can be assigned to a NPC via an Assignment Script. With the use of steps and triggers you can control the flow of events of interaction between Players and NPCs. </span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c1 c6"><span class="c16">Navigation Scripts </span><span>(planned)</span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span class="c16">Action Set </span><span>(planned)</span></p><p class="c0 c1"><span></span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c1 c6"><span class="c8 c5 c57">Server Scripts</span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c1 c6"><span class="c16">World Scripts</span><span>&nbsp;provide the ability to intercept and use different types of world events, based on bukkit&rsquo;s event system, independent of NPCs. Timed events, secret locations, even combat control and food consumption can be controlled by a world script.</span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span class="c16">Combat Scripts</span><span>&nbsp;(planned)</span></p><p class="c0 c1"><span class="c8 c5 c57"></span></p><p class="c0 c1"><span class="c8 c5 c57"></span></p><p class="c1 c6"><span class="c8 c5 c57">Utility Scripts</span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span class="c16">Task Scripts</span><span>&nbsp;have many uses, but are mostly used as utility scripts that provide a single function. They can be used by other scripts, or even other plugins. Effectively using task scripts can increase the capabilities of other scripts to provide a way to &lsquo;branch out&rsquo; possible scenarios, or cut down on code duplication to make scripts able to be presented cleanly.</span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span class="c16">Procedure Scripts</span><span>&nbsp;are kind of like task scripts, except they can return a value. Effectively using procedure scripts, like task scripts, can make dScript code more powerful and efficient.</span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span class="c16">Format Scripts</span><span>&nbsp;have the simple, but useful function of formatting the various types of &lsquo;chatter&rsquo; that Denizen uses.</span></p><p class="c0 c1"><span></span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span class="c8 c5 c57">OBJECT SCRIPTS</span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span class="c16">Item Scripts</span><span>&nbsp;use Minecraft&rsquo;s NBT data to pre-define custom items to be used throughout Denizen. </span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span class="c16">Book Scripts</span><span>&nbsp;allow you to easily create custom books in the form of a script. Book scripts allow for replaceable tags which can be used to customize books for Players, as well.</span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span class="c16">Entity Scripts</span><span>&nbsp;(in progress...)</span></p><p class="c0 c1"><span></span></p><p class="c0 c1"><span></span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c1 c6"><span class="c8 c50">script container specifications</span></p><p class="c0 c1"><span class="c4"></span></p><p class="c1 c6"><span>To qualify as a script container, the script should have at least 2 keys. The name of the script container, and a type key with a valid script container type.</span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span class="c26 c59">name of script</span><span class="c26 c59">:</span></p><p class="c1 c6"><span class="c26 c59">&nbsp; type: type_of_container</span></p><p class="c0 c1"><span class="c26"></span></p><p class="c0 c1"><span></span></p><p class="c1 c6"><span>And now, in a bit more detail, each of the container types:</span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c0 c1"><span class="c5 c4"></span></p><p class="c6"><span class="c8 c23">world scripts</span></p><p class="c0"><span></span></p><a href="#" name="f1731b1b75f49b3af1c4a7b3fba66a2fca781853"></a><a href="#" name="10"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr><td class="c70"><p class="c6"><span>World scripts are automatically assigned to the server on startup. There is no need to do anything else, unlike assignment scripts. Instead, world events will be used as needed.</span></p><p class="c0"><span></span></p><p class="c6"><span>Currently, world scripts contain one type of interaction, </span><span class="c16">events</span><span>. Upon interaction with your server Denizen will look for events specified in your world scripts and execute the contained script entries instantly. Some events are &lsquo;cancellable&rsquo;, and with the use of the </span><span class="c19">determine (passively) cancelled</span><span>&nbsp;command, scripts may use custom logic to calculate whether the event should be carried out by craftbukkit/Minecraft.</span></p><p class="c0"><span></span></p><p class="c6"><span>Because the event is called right before the event is parsed, it should be noted that script entries contained in the </span><span class="c16">event script are always run instantly</span><span>. If a delayed reaction is required, use runtask with a delay to invoke a task script.</span></p><p class="c0"><span></span></p><p class="c6"><span>If you&rsquo;re familiar with the usage of Interact Scripts you&rsquo;ll be used to always having a NPC and Player object to work with. It should be noted that for world events, rarely are both objects automatically associated with the script entries, and in some cases, such as the &lsquo;on server start&rsquo; event, neither object is automatically available. With the use of the </span><span class="c2">npcid:#</span><span>&nbsp;and </span><span class="c2">player:player_name</span><span>&nbsp;arguments, however, the link may be restored for commands that require such objects.</span></p><p class="c0"><span></span></p><p class="c6"><span>Some events also contain some context that can be accessed by use of a </span><span class="c16">context replaceable tag</span><span>. </span></p><p class="c0"><span></span></p><p class="c6"><span>For more information and further reading, see </span><span class="c18"><a class="c21" href="#id.u8w5eyf5q99v">Appendix W - World Script Events and Context Tags</a></span><span>.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span class="c19"></span></p><p class="c0"><span class="c19"></span></p></td><td class="c99"><p class="c0 c1"><span></span></p></td><td class="c91"><p class="c6"><span class="c16">Example world script:</span></p><p class="c0"><span class="c4"></span></p><a href="#" name="f032158e7ff1fedf15adc21b949abe231cc4723e"></a><a href="#" name="11"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c85"><td class="c17"><p class="c1 c6"><span class="c4">World Script: Example 1</span></p></td></tr><tr class="c66"><td class="c52"><p class="c1 c6"><span class="c9"># World Scripting Basics</span></p><p class="c1 c6"><span class="c9"># Simple usage of some world events</span></p><p class="c1 c6"><span class="c14"><br>covering the basics:</span></p><p class="c1 c6"><span class="c14">&nbsp; type: world</span></p><p class="c0 c1"><span class="c14"></span></p><p class="c6"><span class="c12">&nbsp; events:</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; # This event only runs once!</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; </span><span class="c12">on server start:</span><sup><a href="#cmnt34" name="cmnt_ref34">[ah]</a></sup></p><p class="c6"><span class="c12">&nbsp; &nbsp; - runtask &#39;daily_prizes&#39; delay:1h</span></p><p class="c0"><span class="c12"></span></p><p class="c6"><span class="c12">&nbsp; &nbsp; on player login:</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; - announce &#39;&lt;player.name&gt; has entered &nbsp; </span></p><p class="c6"><span class="c12">&nbsp; &nbsp; &nbsp; the game!&#39;</span></p><p class="c0"><span class="c12"></span></p><p class="c6"><span class="c12">&nbsp; &nbsp; on player quit:</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; - announce &#39;&lt;player.name&gt; has left</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; &nbsp; the game!&#39;</span></p><p class="c0"><span class="c12"></span></p><p class="c6"><span class="c12">&nbsp; &nbsp; # Note: /time set 0 = 6:00.</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; # You can use /dtime 1-24 to easily</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; # set the time. This event may</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; # lag behind by several seconds.</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; </span><span class="c12">on 1:00 in world:</span><sup><a href="#cmnt35" name="cmnt_ref35">[ai]</a></sup></p><p class="c6"><span class="c12">&nbsp; &nbsp; - announce &quot;It&#39;s 1:00!&quot;</span></p><p class="c0"><span class="c12"></span></p><p class="c6"><span class="c12">&nbsp; &nbsp; # Notable Locations are global,</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; # &lsquo;bookmarked&rsquo; locations.</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; # (Temporarily) use the command</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; # </span><span class="c12">/notable add --name &lsquo;notable_loc&rsquo;</span><sup><a href="#cmnt36" name="cmnt_ref36">[aj]</a></sup></p><p class="c6"><span class="c12">&nbsp; &nbsp; # to add new locations.</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; </span><span class="c12">on walked over noisy floor:</span><sup><a href="#cmnt37" name="cmnt_ref37">[ak]</a></sup></p><p class="c6"><span class="c12">&nbsp; &nbsp; - narrate &quot;A creak in the floor!&quot;</span></p><p class="c0 c1"><span class="c4"></span></p></td></tr></tbody></table><p class="c0"><span class="c16"></span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c8 c23">ASSIGNMENT scripts</span></p><p class="c0"><span></span></p><a href="#" name="5d00a3c264cbea2c4064c3d6ee460e82e12e457c"></a><a href="#" name="12"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c70"><p class="c6"><span>Assignment scripts are scripts that define the attributes and interaction of a NPC. Currently, assignment scripts contains several keys: actions, constants, and interact scripts assignments.</span></p><p class="c0"><span class="c84"></span></p><p class="c6"><span class="c16">Actions</span><span>&nbsp;provide a simple interface to run scripts upon the various events and interactions with a NPC, such as &lsquo;on click&rsquo; or &lsquo;on death&rsquo;. Each action should be nested in the &lsquo;actions&rsquo; key in your assignment script. The </span><span class="c16">script entries contained are run instantly</span><span>, unlike an interact script which uses a small delay in between entries. If a delayed reaction is required, use runtask with a delay to invoke a task script. This is to allow for the ability to determine an outcome of the action, if possible. Like world events, some actions can be modified or even cancelled with the use of the </span><span class="c19">determine (passively) cancelled</span><span>&nbsp;command by using commands to calculate additional custom logic beyond what Minecraft already takes into account.</span></p><p class="c0"><span></span></p><p class="c6"><span>Some actions are a result of Player interaction with the NPC. If this is true, a valid player is automatically associated with any script entries, however keep in mind this is not always the case. Many actions happen automatically as events arise that call for an action with no reference of a Player, such as &lsquo;on navigation complete&rsquo;. Such actions may only have a valid NPC link. With the use of the </span><span class="c2">player:player_name</span><span>&nbsp;argument, however, the link may be restored for commands that require a player. Determining which player should be attached is up to you.</span></p><p class="c0"><span></span></p><p class="c6"><span>Some actions also contain some context that can be accessed by use of a </span><span class="c16">context replaceable tag</span><span>. </span></p><p class="c0"><span></span></p><p class="c6"><span>For a complete list of actions, see </span><span class="c18"><a class="c21" href="#kix.3mf0ronr3vor">Appendix X - Assignment Script Actions and Context Tags</a></span><span>. </span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Default Constants</span><span>&nbsp;help in making NPC scripts that can easily be used for multiple NPCs without duplicating the scripts unnecessarily. They can also provide as an easy way to provide customization to NPC-centric scripts, as seen in Example 2.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">With the use of the &lt;cons:constant name&gt; tag, parts of your script can automatically use the value set in default constants.</span><span>&nbsp;And, since the NPC-link is carried along with any interact scripts or task scripts run, constants can be used in those as well.</span></p><p class="c0"><span></span></p><p class="c6"><span>It&rsquo;s important to remember that constants are per-npc. In fact, Denizen uses Citizen&rsquo;s trait system to implement a constants trait. The values of any constants set in &lsquo;default constants&rsquo; of the assignment script are carried over into the NPC and &lsquo;inherited&rsquo;. This is important, because it provides a way to customize a single script for multiple NPCs using some /npc commands.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c80">Let&rsquo;s take this example:</span></p><p class="c0"><span></span></p><p class="c6"><span>Assume that NPC 1 has the &lsquo;bandit&rsquo; assignment, and NPC 2 also has the &lsquo;bandit&rsquo; assignment.</span></p><p class="c0"><span></span></p><p class="c6"><span>On death, both will chat the &lsquo;death message&rsquo; constant, as instructed.</span></p><p class="c0"><span></span></p><p class="c6"><span>However, If I select NPC 1, and use the command</span></p><p class="c6"><span class="c2">/npc constant --set &lsquo;death message&rsquo; --value &ldquo;I&rsquo;ll get you next time!&rdquo;</span></p><p class="c0"><span></span></p><p class="c6"><span>On death, NPC 2 will continue to say the default constant as set by the assignment script, but since NPC 1 now has a NPC-specific value for the constant, he will now say &lsquo;I&rsquo;ll get you next time!&rsquo;.</span></p><p class="c0"><span></span></p><p class="c6"><span>Now you can have many types of bandits, all controlled by a single script! Additional NPCs assigned will continue to inherit the default constant values.</span></p><p class="c0"><span class="c16"></span></p><p class="c6"><span class="c16">Interact Scripts</span><span>&nbsp;are also assigned via an assignment script. With interact scripts, several trigger types can be utilized to allow for advanced step-based interaction with Players and NPCs. Multiple Interact Scripts can be assigned as well with a priority system to allow for advanced case situations.</span></p><p class="c0"><span class="c19"></span></p></td><td class="c99"><p class="c0 c1"><span></span></p></td><td class="c91"><p class="c6"><span class="c16">Example assignment script:</span></p><p class="c0"><span class="c4"></span></p><a href="#" name="a3d16b9a7dc002695fea5f34a2e2b3f142adf5e3"></a><a href="#" name="13"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c85"><td class="c17"><p class="c1 c6"><span class="c4">Assignment Scripts: Example 1</span></p></td></tr><tr class="c66"><td class="c52"><p class="c1 c6"><span class="c9"># Click Harlot</span></p><p class="c1 c6"><span class="c9"># Simple usage of assignment script</span></p><p class="c1 c6"><span class="c9"># actions.</span></p><p class="c1 c6"><span class="c14"><br>click harlot:</span></p><p class="c1 c6"><span class="c14">&nbsp; type: assignment</span></p><p class="c0 c1"><span class="c14"></span></p><p class="c6"><span class="c12">&nbsp; actions:</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; </span><span class="c12">on assignment:</span><sup><a href="#cmnt38" name="cmnt_ref38">[al]</a></sup></p><p class="c6"><span class="c12">&nbsp; &nbsp; </span><span class="c12">- trigger name:click toggle:true</span><sup><a href="#cmnt39" name="cmnt_ref39">[am]</a></sup><span class="c12">&nbsp; &nbsp; </span></p><p class="c6"><span class="c12">&nbsp; &nbsp; </span></p><p class="c6"><span class="c12">&nbsp; &nbsp; </span><span class="c12">on click:</span><sup><a href="#cmnt40" name="cmnt_ref40">[an]</a></sup></p><p class="c6"><span class="c12">&nbsp; &nbsp; </span><span class="c12">- flag npc clicks:++</span><sup><a href="#cmnt41" name="cmnt_ref41">[ao]</a></sup></p><p class="c6"><span class="c12">&nbsp; &nbsp; </span><span class="c12">- random 4</span><sup><a href="#cmnt42" name="cmnt_ref42">[ap]</a></sup></p><p class="c6"><span class="c12">&nbsp; &nbsp; - chat &#39;Oh yeahh.. I love clicks!&#39;</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; - chat &#39;Give &lt;&amp;sq&gt;em to me, </span></p><p class="c6"><span class="c12">&nbsp; &nbsp; &nbsp; &lt;player.name&gt;!&#39;</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; - chat &#39;Clicks are my true love.&#39;</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; - chat &#39;Used? How dare you! I&lt;&amp;sq&gt;ve</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; &nbsp; been clicked but </span></p><p class="c6"><span class="c12">&nbsp; &nbsp; &nbsp; </span><span class="c12">&lt;flag.n:clicks.asint&gt;</span><sup><a href="#cmnt43" name="cmnt_ref43">[aq]</a></sup><span class="c12">&nbsp;times!&#39;</span></p><p class="c6"><span class="c12">&nbsp; &nbsp; </span></p></td></tr></tbody></table><p class="c0"><span class="c16"></span></p><p class="c0"><span class="c4"></span></p><a href="#" name="0f4fc2c78bfff6a6846e9d2fafc7869f74cb7769"></a><a href="#" name="14"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c85"><td class="c17"><p class="c1 c6"><span class="c4">Assignment Scripts: Example 2</span></p></td></tr><tr class="c66"><td class="c52"><p class="c1 c6"><span class="c9"># Bandit is a simple usage of assignment </span></p><p class="c1 c6"><span class="c9"># script actions and constants. The bandit </span></p><p class="c1 c6"><span class="c9"># will confront the the player on proximity</span></p><p class="c1 c6"><span class="c9"># enter and when the player tries to</span></p><p class="c1 c6"><span class="c9"># escape, attack!</span></p><p class="c1 c6"><span class="c14"><br>bandit:</span></p><p class="c1 c6"><span class="c14">&nbsp; type: assignment</span></p><p class="c0 c1"><span class="c14"></span></p><p class="c1 c6"><span class="c14">&nbsp; default constants:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; approach message: Give me your stuff!</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; fleeing message: You&#39;ll regret that!</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; death message: Aaarrgghhh!</span></p><p class="c0 c1"><span class="c14"></span></p><p class="c1 c6"><span class="c14">&nbsp; actions:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; on assignment:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - trigger name:proximity </span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; &nbsp; toggle:true radius:4</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - trigger name:damage toggle:true</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - health toggle:true</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - vulnerable</span></p><p class="c0 c1"><span class="c14"></span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; on enter proximity:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - if &lt;flag.n:in_pursuit&gt; </span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; &nbsp; queue clear</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - flag npc in_pursuit:true</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - lookclose toggle:true</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - chat &quot;&lt;cons:approach message&gt;&quot;</span></p><p class="c0 c1"><span class="c14"></span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; on exit proximity:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - if !&lt;flag.n:in_pursuit&gt; </span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; &nbsp; queue clear</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - attack</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - lookclose toggle:false</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - narrate &quot;&lt;npc.nickname&gt; yells at you, </span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; &nbsp; &#39;&lt;cons:fleeing message&gt;&#39;&quot;</span></p><p class="c0 c1"><span class="c14"></span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; on death:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - chat &quot;&lt;cons:death message&gt;&quot;</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - random 2</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - drop item:gold_nugget qty:1</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; &nbsp; location:&lt;npc.location&gt;</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - drop XP qty:10</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; &nbsp; location:&lt;npc.location&gt;</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - flag npc in_pursuit:!</span></p><p class="c0 c1"><span class="c14"></span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; on despawn:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - flag npc in_pursuit:! &nbsp; </span><span class="c12">&nbsp; </span></p><p class="c1 c6"><span class="c12">&nbsp;</span></p></td></tr></tbody></table><p class="c0"><span class="c16"></span></p><p class="c0"><span class="c16"></span></p></td></tr></tbody></table><p class="c0"><span class="c8 c23"></span></p><p class="c6"><span class="c8 c23">InterEntity script</span></p><p class="c6"><span class="c5 c4">Not fully implemented, please check back later.</span></p><p class="c0"><span class="c8 c23"></span></p><p class="c0"><span class="c8 c23"></span></p><p class="c0"><span class="c8 c23"></span></p><p class="c6"><span class="c8 c23">book script</span></p><p class="c6"><span class="c5 c4">Book scripts are used by the scribe command to create custom books.</span></p><p class="c0"><span class="c4"></span></p><a href="#" name="969f7b4349cff44004f902f79fba506364cfab82"></a><a href="#" name="15"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c51 c72"><p class="c1 c6"><span class="c4">Script Table 3: Book Script</span></p></td></tr><tr class="c66"><td class="c72"><p class="c1 c6"><span class="c9"># Book Script example</span></p><p class="c1 c6"><span class="c9">#</span></p><p class="c1 c6"><span class="c9"># @author Jeebiss<br># @version 1.0<br># @last-updated Feb 26 2013<br></span><span class="c14"><br>book_script_name:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; type: book</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; title: Title of the Book</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; author: Author of the Book</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; text:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - Each item on this list</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - represents a new page</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - in the book. You can use</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - &lt;n&gt; to create a new line</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - and &lt;p&gt; to create a new</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - paragraph.</span></p></td></tr></tbody></table><p class="c0"><span class="c39"></span></p><p class="c0"><span class="c39"></span></p><p class="c6"><span class="c8 c23">Entity script</span></p><p class="c6"><span class="c5 c4">Not fully implemented, please check back later.</span></p><p class="c0"><span class="c39"></span></p><p class="c0"><span class="c39"></span></p><p class="c6"><span class="c8 c23">ITEM script</span></p><p class="c6"><span class="c5 c4">Item scripts are used to make custom items for Denizen to use in scripts. Item Scripts are design to work on most cases where you would specify an item including the give, take, and drop commands. You may also require these items by using the script in the item requirement.</span></p><p class="c0"><span class="c4"></span></p><a href="#" name="5219733ce640fe813b51ecea74a0453bea001ac0"></a><a href="#" name="16"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c102 c51"><p class="c1 c6"><span class="c4">Script Table 5: Item Script</span></p></td></tr><tr class="c66"><td class="c102"><p class="c1 c6"><span class="c9"># Item Script example</span></p><p class="c1 c6"><span class="c9">#</span></p><p class="c1 c6"><span class="c9"># @author Jeebiss<br># @version 1.0<br># @last-updated Feb 26 2013<br></span><span class="c14"><br>item_script_name:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; type: item</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; material: item_base</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; display name: display_name</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; lore:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - first line of lore</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - second line of lore</span><sup><a href="#cmnt44" name="cmnt_ref44">[ar]</a></sup></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; enchantments:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - enchant1:lvl</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - enchant2:lvl</span></p><p class="c1 c6"><span class="c4">&nbsp;</span></p></td></tr></tbody></table><p class="c0"><span class="c39"></span></p><p class="c0"><span class="c39"></span></p><p class="c6"><span class="c8 c23">PROCEDURE script</span></p><p class="c6"><span class="c5 c4">Procedure scripts do something, I promise.</span><sup><a href="#cmnt45" name="cmnt_ref45">[as]</a></sup></p><p class="c0"><span class="c4"></span></p><a href="#" name="f646e0d45b242ee4dc340a31ddc322ee270b41c8"></a><a href="#" name="17"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c37 c51"><p class="c1 c6"><span class="c4">Script Table 6: Procedure Script</span></p></td></tr><tr class="c66"><td class="c37"><p class="c1 c6"><span class="c9"># Procedure Script example</span></p><p class="c1 c6"><span class="c9">#</span></p><p class="c1 c6"><span class="c9"># @author Jeebiss<br># @version 1.0<br># @last-updated Feb 27 2013<br></span><span class="c14"><br>procedure_script_name:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; type: procedure</span></p></td></tr></tbody></table><p class="c0"><span class="c39"></span></p><p class="c6"><span class="c8 c23">TASK script</span></p><p class="c6"><span class="c5 c4">Task scripts are a set of command that can be called using the &lsquo;runtask&rsquo; command. &nbsp;Listeners also call task scripts when they complete.</span></p><p class="c0"><span class="c4"></span></p><a href="#" name="442d04e0bb79319f9b7a32dd95805a5219cc8ca9"></a><a href="#" name="18"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c37 c51"><p class="c1 c6"><span class="c4">Script Table 7: Task Script</span></p></td></tr><tr class="c66"><td class="c37"><p class="c1 c6"><span class="c9"># Task Script example</span></p><p class="c1 c6"><span class="c9">#</span></p><p class="c1 c6"><span class="c9"># @author Jeebiss<br># @version 1.0<br># @last-updated Feb 28 2013<br></span><span class="c14"><br>task_script_name:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; type: task</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; script:</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - command1</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - command2</span></p><p class="c1 c6"><span class="c14">&nbsp; &nbsp; - command3</span></p></td></tr></tbody></table><p class="c0"><span class="c8 c23"></span></p><p class="c0"><span class="c8 c23"></span></p><p class="c6"><span class="c8 c23">Format script</span></p><p class="c6"><span class="c5 c4">Format scripts are very useful when you absolutely hate to use copy-paste. Small example: You have various NPCs set up that can give you a quest. Each NPC gives you a message like &ldquo;Quest given: A new Beginning&rdquo; - sometimes with colors and fancy stuff! Well, to not have to copy-paste that thing all times over, just use a format script!</span></p><p class="c6"><span class="c5 c4">The &lt;text&gt; flag is getting replaced by the text output by e.g. the narrate command.</span></p><p class="c6"><span class="c5 c4">Usage with NARRATE:</span></p><p class="c6"><span class="c14">- narrate format:quest_given_format &ldquo;A new Beginning&rdquo; </span><span class="c9"># Would parsed to: &ldquo;Quest given by aufdemrand: A new Beginning&rdquo;</span></p><p class="c0"><span class="c5 c4"></span></p><p class="c6"><span class="c5 c16">Example format script:</span></p><p class="c0"><span class="c4"></span></p><a href="#" name="e0d9f77d2957075d777ec1da6249e3642f3bed49"></a><a href="#" name="19"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c85"><td class="c51 c65"><p class="c1 c6"><span class="c4">Script Table 8: Format Script</span></p></td></tr><tr class="c101"><td class="c65"><p class="c1 c6"><span class="c9"># Basic format script container</span></p><p class="c1 c6"><span class="c14"><br>quest_given_format:</span></p><p class="c1 c6"><span class="c14">&nbsp; type: format</span></p><p class="c1 c6"><span class="c14">&nbsp; format:</span><span class="c14">&nbsp;&lt;&amp;6&gt;Quest given by &lt;&amp;2&gt;&lt;npc.name&gt;&lt;&amp;6&gt;:&lt;&amp;f&gt;&lt;text&gt;</span><sup><a href="#cmnt46" name="cmnt_ref46">[at]</a></sup></p><p class="c0 c1"><span class="c4"></span></p><p class="c0 c1"><span class="c4"></span></p></td></tr></tbody></table><p class="c0"><span class="c8 c23"></span></p><p class="c0"><span class="c11 c16"></span></p><h1 class="c73 c6"><a name="h.gqk0osuf0jvf"></a></h1><hr style="page-break-before:always;display:none;"><h1 class="c6 c73"><a name="h.bjiugfh0xmj1"></a></h1><a href="#" name="id.ad4hwy7rn06z"></a><h2 class="c6"><a name="h.v4mcdbc0s2t6"></a><span class="c39 c23">Understanding how arguments are interpreted</span></h2><p class="c0"><span></span></p><p class="c6"><span>Denizen uses quotes and spaces to separate arguments. Understanding how this works will help make sure commands (and anything else that uses arguments, such as requirements, etc.) are correctly interpreted by the dScript engine. The concept is simple; arguments are separated by spaces, except when surrounded by quotes. </span></p><p class="c0"><span></span></p><p class="c6"><span>The best way to get the hang of this is to see some &lsquo;correct&rsquo; and &lsquo;incorrect&rsquo; usages. Below are some &lsquo;example outcomes&rsquo; of the dScript argument builder. For a visual example, the colors of the arguments demonstrate how Denizen will interpret the arguments, alternating in color. Note: spaces and quotes are generally ignored, except when enclosed by quotes. </span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span>Correct: 3 total arguments </span><span class="c26">[arg 1, arg 2, arg 3]</span></p><p class="c25 c6"><span class="c26">- command &lsquo;</span><span class="c2">arg 1</span><span class="c26">&rsquo; &lsquo;</span><span class="c19">arg 2</span><span class="c26">&rsquo; &lsquo;</span><span class="c2">arg 3</span><span class="c26">&rsquo;</span></p><p class="c6"><span>Incorrect: 6 total arguments </span><span class="c26">[arg, 1, arg, 2, arg, 3]</span></p><p class="c6"><span class="c26">- command </span><span class="c2">arg</span><span class="c26">&nbsp;</span><span class="c19">1</span><span class="c26">&nbsp;</span><span class="c2">arg</span><span class="c26">&nbsp;</span><span class="c19">2</span><span class="c26">&nbsp;</span><span class="c2">arg</span><span class="c26">&nbsp;</span><span class="c19">3</span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span>Correct: 2 total arguments </span><span class="c26">[arg:single_word_value, arg:multiple word value]</span></p><p class="c25 c6"><span class="c26">- command </span><span class="c2">arg:single_word_value</span><span class="c26">&nbsp;&lsquo;</span><span class="c19">arg:multiple word value</span><span class="c26">&rsquo;</span></p><p class="c6"><span>Incorrect: &nbsp;5 total arguments [arg:, single_word_value, arg:multiple, word, value]</span></p><p class="c6"><span class="c26">- command </span><span class="c2">arg:</span><span class="c26">&rsquo;</span><span class="c19">single_word_value</span><span class="c26">&rsquo; </span><span class="c2">arg:multiple</span><span class="c26">&nbsp;</span><span class="c19">word</span><span class="c26">&nbsp;</span><span class="c2">value</span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span>Correct: 2 total arguments </span><span class="c26">[arg:&rdquo;value with quotes&rdquo;, &lsquo;quoted argument&rsquo;]</span></p><p class="c25 c6"><span class="c26">- command &lsquo;</span><span class="c2">arg:&rdquo;value with quotes&rdquo;</span><span class="c26">&rsquo; &ldquo;</span><span class="c19">&lsquo;quoted argument&rsquo;</span><span class="c26">&rdquo;</span></p><p class="c6"><span>Incorrect: &nbsp;3 total arguments </span><span class="c26">[arg:, value with quotes, quoted argument]</span></p><p class="c6"><span class="c26">- command </span><span class="c2">arg:</span><span class="c26">&rsquo;</span><span class="c19">value with quotes</span><span class="c26">&rsquo; &ldquo;</span><span class="c2">quoted argument</span><span class="c26">&rdquo;</span></p><p class="c0"><span class="c8"></span></p><p class="c6"><span>Also, take care when using double-quotes and single-quotes with each other, inside arguments. Take the following example, color coded for readability. This will cause problems:</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c26">- chat &lsquo;</span><span class="c2">Hey there! It</span><span class="c26">&rsquo;</span><span class="c19">s a nice day, isn</span><span class="c26">&rsquo;</span><span class="c2">t</span><span class="c26">&nbsp;</span><span class="c19">it?&rsquo;</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span>To fix this problem, enclose the argument in double quotes, or use a replaceable tag for your quotes inside. Following are two acceptable alternatives:</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c26">- chat &ldquo;</span><span class="c2">Hey there! It&rsquo;s a nice day, isn&rsquo;t it?</span><span class="c26">&rdquo;</span></p><p class="c6"><span class="c26">- chat &lsquo;</span><span class="c2">Hey there! It&lt;&amp;sq&gt;s a nice day, isn&lt;&amp;sq&gt;t it?</span><span class="c26">&rsquo;</span></p><p class="c0"><span class="c3"></span></p><p class="c0"><span class="c4"></span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span class="c32"></span></p><h1 class="c6"><a name="h.l7r363qvt6mk"></a><span class="c32">replaceable tags<br></span><span class="c5 c4">Replaceable tags are used to get information needed in a script. This can range from NPC locations to the biome the player is standing it. The tag system is made so that the values of the tags can be used in almost any aspect of Denizen. All tag are replaced just prior to script execution, so their values can be dynamic. </span></h1><a href="#" name="8289fd62c65b7b0fa89385d412b6f14c28390742"></a><a href="#" name="20"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c68"><td class="c100"><p class="c0 c1"><a name="h.eo55wsoja6gt"></a></p><p class="c1 c6 c53"><a name="h.l1b3dkrr6r1o"></a><span class="c32 c80">Player tags</span></p><a href="#" name="6ef0323173a79234581f312acaea1a01b2a633ea"></a><a href="#" name="21"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr><td class="c35"><p class="c1 c6"><a name="h.42evofoio4ri"></a><span class="c12">&lt;player.name&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.3ivn9l5qipf5"></a><span class="c12">the name of the player</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.aks9l8n2x632"></a><span class="c12">&lt;player.name.display&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.dnrgmeppc8ug"></a><span class="c12">display name of player</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.81nzaynqwwe1"></a><span class="c12">&lt;player.name.list&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.ptdne8ql8kok"></a><span class="c12">name on playerlist</span></p></td></tr><tr class="c82"><td class="c35"><p class="c1 c6"><a name="h.f21c1g4wsvpw"></a><span class="c12">&lt;player.list&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.g9ous8tlksz1"></a><span class="c12">list of all players</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.2kuui9nm6k8k"></a><span class="c12">&lt;player.list.online&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.dls8anv6wes1"></a><span class="c12">list of online players</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.34cq7yjz6p8p"></a><span class="c12">&lt;player.list.online.ops&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.mzi8g7m597dw"></a><span class="c12">list of online ops</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.foyuw3djk5bh"></a><span class="c12">&lt;player.list.offline&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.esvlrydmwnc8"></a><span class="c12">list of offline players</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.6pfj4eu6hchc"></a><span class="c12">&lt;player.list.offline.ops&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.1mt3dzhqp0cy"></a><span class="c12">list of offline ops</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.f8g42k3m5qql"></a><span class="c12">&lt;player.chat_history&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.2fvjn8grdmln"></a><span class="c12">last message player sent</span></p></td></tr><tr class="c45"><td class="c35"><p class="c1 c6"><a name="h.sjcp3f1nuwlr"></a><span class="c12">&lt;player.chat_history[X]&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.tfr6uwt28t5s"></a><span class="c12">message sent X times ago</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.zg11449q3dub"></a><span class="c12">&lt;player.closest[X].npc&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.2k2fuseg932l"></a><span class="c12">id of closest npc within X blocks</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.vqnqdwosy19n"></a><span class="c12">&lt;player.closest[X].npc.name&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.f3b4dnhz2sok"></a><span class="c12">name of closest npc within X blocks</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.dlex0tp0dkq4"></a><span class="c12">&lt;player.item_in_hand&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.93dzqc5iybcb"></a><span class="c12">bukkit name of item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.4rz07wbjhfh0"></a><span class="c12">&lt;player,item_in_hand.qty&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.mozer0ijowix"></a><span class="c12">quantity of items in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.n1hqpul26tg1"></a><span class="c12">&lt;player,item_in_hand.id&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.wmtgrckahd9z"></a><span class="c12">ID of item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.mvnycnoxpbbo"></a><span class="c12">&lt;player,item_in_hand.data&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.7tkgblhqyrip"></a><span class="c12">data info of item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.d91oyn81clgh"></a><span class="c12">&lt;player.item_in_hand.durability&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.oh6czswu51uo"></a><span class="c12">durability of item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.d91oyn81clgh"></a><span class="c12">&lt;player.item_in_hand.max_stack&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.n5cozfynz7ko"></a><span class="c12">max stack size of item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.gkiou3hezax5"></a><span class="c12">&lt;player.item_in_hand.owner&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.2zdcvxqru5n4"></a><span class="c12">owner of item in players hand (if engraved to player)</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.d555t4ft7jri"></a><span class="c12">&lt;player.item_in_hand.enchantments&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.tu7t2ten0cv2"></a><span class="c12">list of enchantments on item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.8s15kuepabzf"></a><span class="c12">&lt;player.item_in_hand.enchantments.levels&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.v3l8bmebgus4"></a><span class="c12">list of enchants WITH levels on item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.5nmw5fiyq4sl"></a><span class="c12">&lt;player.item_in_hand.enchantments.levels_only&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.eahnxs7ac0k6"></a><span class="c12">list of enchant levels on item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.1apebiuvz1vk"></a><span class="c12">&lt;player.item_in_hand.lore&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.70m4kyroiooy"></a><span class="c12">list of lore on item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.az1mn8exg5po"></a><span class="c12">&lt;player.item_in_hand.display&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.bctyj3t5cnxl"></a><span class="c12">display name of item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.9bk3db1ipv21"></a><span class="c12">&lt;player.item_in_hand.material&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.3gbu2jpbmxhb"></a><span class="c12">bukkit material of item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.kviz4y2ge8ji"></a><span class="c12">&lt;player.item_in_hand.material.formatted&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.3gfrinm41kg8"></a><span class="c12">formatted material name of item in players hand</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.putmxk2e0yya"></a><span class="c12">&lt;player.location&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.4owi00th75rn"></a><span class="c12">location of player in x,y,z,world format</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.cr2t9jg645qy"></a><span class="c12">&lt;player.location.block&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.7el5fk4qtvzq"></a><span class="c12">block name of player location (x_name,y_name,z_name,world_name)</span></p></td></tr><tr class="c73"><td class="c35"><p class="c1 c6"><a name="h.jdc86tb2qfxa"></a><span class="c12">&lt;player.location.formatted&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.e2sxwtcgnfg"></a><span class="c12">formatted location of player</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.2l4jvk6e69x"></a><span class="c12">&lt;player.location.x&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.ls8qyy7mb0jh"></a><span class="c12">x coord of player location</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.a36omnu9fju5"></a><span class="c12">&lt;player.location.y&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.fr54pvnk2tix"></a><span class="c12">y coord of player location</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.nhyxb6lp4q25"></a><span class="c12">&lt;player.location.z&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.wr35kqr143ru"></a><span class="c12">z coord of player location</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.ksx0lstk6zrx"></a><span class="c12">&lt;player.location.world&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.tcdzqctbcz6l"></a><span class="c12">world name of player location</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.ytf6gv5ihvy7"></a><span class="c12">&lt;player.location.cursor_on[X]&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.s23by8wv8r09"></a><span class="c12">block player cursor is on, within X range</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.ab7kblor5qh5"></a><span class="c12">&lt;player.standing_on&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.16ac7u8mk3zs"></a><span class="c12">block player is standing on</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.nhkb4hbnkcqt"></a><span class="c12">&lt;player.world_spawn&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.qfzx06q3yrrc"></a><span class="c12">location of players world spawn</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.ygnqvnfp3nr6"></a><span class="c12">&lt;player.bed_spawn&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.uhamjwkc237d"></a><span class="c12">location of players bed spawn</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.o4yhbo6lv70b"></a><span class="c12">&lt;player.health.formatted&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.9vni23b7ofh0"></a><span class="c12">formatted player health (healthy, scraped, injured, seriously wounded, dying)</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.en4fk06x30sx"></a><span class="c12">&lt;player.health.percentage&gt;</span></p></td><td class="c43"><p class="c1 c6"><a name="h.4xqy9hxnjroz"></a><span class="c12">percent of players health remaining</span></p></td></tr><tr><td class="c35"><p class="c1 c6"><a name="h.o5cm4xc2wjdm"></a><span class="c12">more coming soon :)</span><sup><a href="#cmnt47" name="cmnt_ref47">[au]</a></sup></p></td><td class="c43"><p class="c0 c1"><a name="h.hgcprbwb8t9r"></a></p></td></tr><tr><td class="c35"><p class="c0 c1"><a name="h.pk61y3ey8uby"></a></p></td><td class="c43"><p class="c0 c1"><a name="h.w7amghatuwyr"></a></p></td></tr><tr><td class="c35"><p class="c0 c1"><a name="h.eeq4l3gnj5ph"></a></p></td><td class="c43"><p class="c0 c1"><a name="h.r9x6exptgrtb"></a></p></td></tr></tbody></table><p class="c0 c1"><a name="h.z5n4r9wmyrok"></a></p></td></tr></tbody></table><h2 class="c6"><a name="h.no7b74pnv9kq"></a><span class="c39 c23">reading argument hints</span></h2><p class="c0"><span></span></p><p class="c6"><span>Command arguments are often placed in some kind of bracket in the usage hints. These brackets show which arguments are required, which arguments are optional, as well as any default settings an argument may have if optional.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c26">Key: </span><span class="c26 c51">Arguments: [] - Required &nbsp;() - Optional &nbsp;{} - Default &nbsp;| - Or</span></p><p class="c0"><span class="c3"></span></p><p class="c6"><span>For instance, take the COOLDOWN command, which has the following usage: </span></p><p class="c6"><span class="c64 c26">COOLDOWN ({PLAYER}|GLOBAL) (#{60}|DURATION:#) (SCRIPT:{script_name})</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span>The first argument, either PLAYER or GLOBAL, is optional. If not set, PLAYER is used. The second argument, either an integer or a valid duration argument, is also optional. If not specified, 60 seconds is inferred. The third argument is also optional; if not set, the current script is used.</span></p><p class="c0"><span class="c5 c4"></span></p><p class="c6"><span>For another example, take a look at EXECUTE:</span></p><p class="c6"><span class="c64 c26">EXECUTE [AS_PLAYER|AS_SERVER|AS_NPC|AS_OP] [&#39;Bukkit Command&#39;]</span></p><p class="c0"><span class="c64"></span></p><p class="c6"><span>The first argument should be either as_player, as_server, _as_npc or as_op. This is required. The second argument is also required, which should contain the Bukkit command to execute.</span></p><h1 class="c73 c6"><a name="h.7mf8f6d49g0c"></a></h1><h1 class="c6"><a name="h.lk9vehtrkn3h"></a><span class="c32">C</span><span class="c32">ommands A-Z</span></h1><p class="c6"><span class="c5 c4">Below are all the core dScript commands, listed alphabetically, with an explanation of usage and arguments. As the new commands for 0.8 come into their final form, they will be added here.</span></p><p class="c0"><span></span></p><h2 class="c6"><a name="h.mo50nmo3i89c"></a><span class="c39 c23">Announce</span></h2><p class="c6"><span class="c5 c4">Announces a message to the server. This includes all players in all worlds.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Usage:</span></p><p class="c6"><span class="c3">announce [&#39;announcement message&#39;]</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Arguments:</span></p><p class="c6"><span class="c3 c64">[&#39;message to announce&#39;]</span><span class="c3">&nbsp;</span><span class="c5">The message to send to the server. This will be seen by all Players.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5">Example Usage:</span></p><p class="c6"><span class="c3">- announce &#39;Today is Christmas!&#39;</span></p><p class="c6"><span class="c3">- announce &quot;&lt;player.name.display&gt; has completed &lsquo;&lt;flag.p:current_quest&gt;&#39;!&quot;</span></p><p class="c6"><span class="c3">- announce &quot;&lt;GOLD&gt;$$$&lt;WHITE&gt; Make some quick cash at our MINEA-SINO!&quot; </span></p><p class="c0"><span class="c3"></span></p><p class="c0"><span class="c3"></span></p><h2 class="c6"><a name="h.tek0spttzacn"></a><span class="c39 c23">Assignment</span></h2><p class="c6"><span class="c5 c4">Changes or removes a NPC&rsquo;s current assignment. </span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Usage:</span></p><p class="c6"><span class="c3">assignment ({set}|remove) [script:assignment_script_name]</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Arguments:</span></p><p class="c6"><span class="c3 c64">[set|remove]</span><span class="c3">&nbsp;</span><span class="c5">Defines the action that should be taken. &lsquo;set&rsquo; will change the current assignment. &lsquo;remove&rsquo; will remove the current assignment.</span></p><p class="c6"><span class="c3 c64">[script:assignment_script_name]</span><span class="c3">&nbsp;</span><span class="c5">Defines the new assignment script that should be used. Optional if only using the assignment command to remove the current assignment, but otherwise required.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5">Example Usage:</span></p><p class="c6"><span class="c3">- assignment remove</span></p><p class="c6"><span class="c3">- assignment &lsquo;script:wall guard&rsquo;</span></p><p class="c6"><span class="c3">- assignment set script:bartender</span></p><p class="c0"><span class="c3"></span></p><h2 class="c6"><a name="h.w320i133maqu"></a><span class="c39 c23">Attack</span></h2><p class="c6"><span class="c5 c4">Instructs a NPC to attack a target with its hand or wielded weapon. </span><span class="c5 c4 c41 c104">Todo: Add ability to target any Entity.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Usage:</span></p><p class="c6"><span class="c3">attack (stop)</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Arguments:</span></p><p class="c6"><span class="c3 c64">(stop)</span><span class="c3">&nbsp;</span><span class="c5">Optional. If currently attacking, the NPC will stop when issued the command with the &lsquo;stop&rsquo; argument.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Example Usage:</span></p><p class="c6"><span class="c3">- attack</span></p><p class="c6"><span class="c3">- attack stop</span></p><p class="c6"><span class="c3">- attack player:aufdemrand</span></p><p class="c0"><span class="c3"></span></p><h2 class="c6"><a name="h.cw03cxuxqe6y"></a><span class="c39 c23">Cast</span></h2><p class="c6"><span class="c5 c4">&#39;Casts&#39; a Bukkit PotionEffectType on a LivingEntity target(s).</span></p><p class="c0"><span class="c5 c4"></span></p><p class="c6"><span class="c5 c16">Usage:</span></p><p class="c6"><span class="c3">cast [potion_effect_type] (target(s):npc|{player}|entity_type) (duration:#) (power:#)</span></p><p class="c6"><span class="c5 c4">&nbsp;</span></p><p class="c6"><span class="c5 c16">Arguments:</span></p><p class="c6"><span class="c3 c64">[potion_effect_type]</span><span class="c3">&nbsp;</span><span class="c5 c4">Uses Bukkit&#39;s </span><span class="c18 c5 c4"><a class="c21" href="http://jd.bukkit.org/apidocs/org/bukkit/potion/PotionEffectType.html">PotionEffectType</a></span><span class="c5 c4">&nbsp;for specifying the potion effect to use. </span></p><p class="c6"><span class="c3 c64">(target(s):npc|{player}|entity_type)</span><span class="c64 c5 c4">&nbsp;</span><span class="c5 c4">Optional. The recipient of the PotionEffectType. Defaults to the attached Player. Can use a dScript list format to specify multiple targets by using a pipe (|) character.</span></p><p class="c6"><span class="c3 c64">(DURATION:#{60S})</span><span class="c5 c4">&nbsp;Optional. The duration of the effects the PotionEffectType causes. If not specified, assumes 60 seconds. </span></p><p class="c6"><span class="c5 c4">&nbsp;</span></p><p class="c6"><span class="c5 c4">DURATION:#{60s})</span></p><p class="c6"><span class="c5 c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Optional. Number of seconds that the PotionEffectType lasts. If not specified,</span></p><p class="c6"><span class="c5 c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; assumed 60 seconds.</span></p><p class="c6"><span class="c5 c4">&nbsp;</span></p><p class="c6"><span class="c5 c4">(POWER:#{1})</span></p><p class="c6"><span class="c5 c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Optional. A higher amplifier means the potion effect happens more often over</span></p><p class="c6"><span class="c5 c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; its duration and in some cases has more effect on its target. Usually effective </span></p><p class="c6"><span class="c5 c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; between 1-3.</span></p><p class="c6"><span class="c5 c4">&nbsp;</span></p><p class="c6"><span class="c5 c4">&nbsp;Example Usage:</span></p><p class="c6"><span class="c5 c4">&nbsp;- CAST NIGHT_VISION DURATION:60</span></p><p class="c6"><span class="c5 c4">&nbsp;- CAST WITHER TARGET:NPC NPCID:&lt;^FLAG.P:enemy_NPCID&gt; CASTER:PLAYER</span></p><p class="c6"><span class="c5 c4">&nbsp;- CAST REGENERATION DURATION:10 POWER:3</span></p><p class="c6"><span class="c5 c4">&nbsp;- CAST CONFUSION TARGET:NPC.25 DURATION:60</span></p><p class="c0"><span class="c39"></span></p><p class="c0"><span class="c39"></span></p><h2 class="c6"><a name="h.ubd6pfu52z64"></a><span class="c23 c39">FLAG</span></h2><p class="c6"><span class="c5 c4">Flags a player, npc or sets a global flag. Flags can be stand-alone or lists (You can then add or remove stuff from them).</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Usage:</span></p><p class="c6"><span class="c3">flag ({player}|npc|global) [name([#])](:action)[:value] (duration:#)</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Arguments:</span></p><p class="c6"><span class="c3 c64">({player}|npc|global)</span><span class="c3">&nbsp;For whom the flag should be set</span><span class="c5">.</span></p><p class="c6"><span class="c3 c64">[name([#])](:action)[:value]</span><span class="c3">&nbsp;The flag to set: name defines the flag name, value the content. The action can be one of the following: </span></p><p class="c6"><span class="c3">++ (increment)</span></p><p class="c6"><span class="c3">-- (subtract)</span></p><p class="c6"><span class="c3">* (multiply)</span></p><p class="c6"><span class="c3">/ (divide)</span></p><p class="c6"><span class="c3">-&gt; (add to list)</span></p><p class="c6"><span class="c3">&lt;- (from list)</span></p><p class="c6"><span class="c3 c64">(duration:#)</span><span class="c3">&nbsp;The expiration duration for the set flag.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5">Example Usage:</span></p><p class="c6"><span class="c3">- </span><span class="c3">flag &ldquo;Got cookies:3&rdquo;</span><sup><a href="#cmnt48" name="cmnt_ref48">[av]</a></sup></p><p class="c6"><span class="c3">- flag npc &ldquo;Given cookies:3&rdquo;</span></p><p class="c6"><span class="c3">- flag </span><span class="c3">npcid:&lt;^flag.g:this_npc&gt;</span><sup><a href="#cmnt49" name="cmnt_ref49">[aw]</a></sup><span class="c3">&nbsp;</span><span class="c3">npc</span><sup><a href="#cmnt50" name="cmnt_ref50">[ax]</a></sup><span class="c3">&nbsp;</span><span class="c3">counter:++</span><sup><a href="#cmnt51" name="cmnt_ref51">[ay]</a></sup></p><p class="c6"><span class="c3">- flag </span><span class="c3">points:--:3</span><sup><a href="#cmnt52" name="cmnt_ref52">[az]</a></sup></p><p class="c6"><span class="c3">- flag </span><span class="c3">global</span><sup><a href="#cmnt53" name="cmnt_ref53">[ba]</a></sup><span class="c3">&nbsp;&ldquo;Active Quests:&lt;-:A brand new Adventure&rdquo;</span></p><h1 class="c73 c6"><a name="h.f9exc1v4okzw"></a></h1><h1 class="c6"><a name="h.ljoqr5jdie3i"></a><span class="c39">TROUBLESHOOTING</span></h1><p class="c6"><span class="c23 c4">Listed below are some of the common problems that can occur when using Denizen.</span></p><p class="c0"><span class="c11 c16"></span></p><p class="c0"><span class="c11 c16"></span></p><p class="c6"><span class="c11 c16">When using Minecraft Color Codes or other special characters I get the error &lsquo;Cannot load plugins/Denizen/scripts/script.yml org.bukkit.configuration.InvalidConfigurationException: unacceptable character...&rsquo;</span></p><p class="c0"><span class="c23 c4"></span></p><p class="c6"><span class="c56 c23 c4">To fix this problem, you need to add a &lsquo;-Dfile.encoding=UTF8&rsquo; switch to the command file that starts the craftbukkit server to enable UTF8 encoding. This typically only affects Linux users</span><span class="c23 c4 c56">&nbsp;when using foreign characters or color codes.</span></p><p class="c0"><span class="c56 c23 c4"></span></p><p class="c6"><span class="c56 c23 c4">Example: </span></p><p class="c6"><span class="c56 c23">java -jar -Dfile.encoding=UTF8 -Xmx1g -Xms1g craftbukkit.jar</span></p><p class="c0"><span class="c56 c23"></span></p><p class="c6"><span class="c56 c23 c4">Also, as noted, an alternative to using the Minecraft/Bukkit color codes is using a dScript replaceable tag. Example: &lt;gold&gt; as opposed to </span><span class="c23 c4 c29">&sect;6</span></p><p class="c0"><span class="c23 c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span class="c4"></span></p><h1 class="c6"><a name="h.hrsccjqx1zwn"></a><span class="c32">Appendix</span></h1><p class="c6"><span>General information about some Denizen features and structure can be found in this Appendix.</span></p><p class="c0"><span class="c4"></span></p><h2 class="c6"><a name="h.136aieitjlg"></a><span class="c39">Denizen File/Folder Structure</span></h2><p class="c6"><span class="c4">Listed below is the file structure that Denizen uses to read and write various resources, scripts, and saves files.</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c3">plugins/</span></p><p class="c6"><span class="c3">..Denizen/</span></p><p class="c6"><span class="c3">&nbsp; </span><span class="c3">..config.yml</span></p><p class="c6"><span class="c3">&nbsp; ..saves/</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; ..saves.yml</span><sup><a href="#cmnt54" name="cmnt_ref54">[bb]</a></sup></p><p class="c6"><span class="c3">&nbsp; ..scripts/</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; ..script.dscript</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; .. ...</span><sup><a href="#cmnt55" name="cmnt_ref55">[bc]</a></sup></p><p class="c6"><span class="c3">&nbsp; ..externals/</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; ..external.command.java</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; .. ...</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; ..dependencies/</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; &nbsp; ..denizen.jar</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; &nbsp; ..citizens.jar</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; &nbsp; ..bukkit.jar</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; &nbsp; .. ...</span></p><p class="c0"><span class="c4"></span></p><h2 class="c10 c6"><a name="h.tos5ydvctx89"></a></h2><hr style="page-break-before:always;display:none;"><h2 class="c6"><a name="h.6ou9jerd10qy"></a><span class="c39">LISTENERS</span></h2><p class="c6"><span class="c4">Listeners are the meat of quest style scripts. They &lsquo;listen&rsquo; to what the player does, and react accordingly. Once the player has finished a listener, it will run a specified task script. (I&rsquo;m bad at explaining stuff, so hopefully we can get Auf to make this sound fancier)</span></p><p class="c0"><span class="c8 c23"></span></p><p class="c6"><span class="c8 c23">LISTEN command</span></p><p class="c6"><span class="c5 c4">LISTEN can be used several ways:</span></p><p class="c6"><span class="c5 c4">&nbsp;</span></p><p class="c6"><span class="c4">Issuing a new quest listener:</span></p><p class="c6 c54"><span class="c5 c4 c16">listen </span><span class="c40 c5 c4 c16">[Listener_Type] </span><span class="c40 c5 c4 c16">[ID:ListenerID]</span><sup><a href="#cmnt56" name="cmnt_ref56">[bd]</a></sup><span class="c40 c5 c4 c16">&nbsp;[SCRIPT:task_script][Listener Arguments]</span></p><p class="c6 c54"><span class="c5 c4">See documentation for Listener_Types and specific arguments for each type.</span></p><p class="c6"><span class="c5 c4">&nbsp; </span></p><p class="c6"><span class="c4">Canceling a quest listener in progress:</span></p><p class="c6 c54"><span class="c5 c4 c16">listen </span><span class="c40 c5 c4 c16">[CANCEL] [ID:ListenerID]</span></p><p class="c6"><span class="c5 c4">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cancels a listener.</span></p><p class="c6"><span class="c5 c4">&nbsp; </span></p><p class="c6"><span class="c4">Force-finishing a listener in progress:</span></p><p class="c6 c54"><span class="c5 c4 c16">listen </span><span class="c40 c5 c4 c16">[FINISH] [ID:ListenerID]</span></p><p class="c6"><span class="c5 c4">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Force finishes a listener.. the outcome is exactly the same as the Player completing the listener.</span></p><p class="c6"><span class="c5 c4">&nbsp; </span></p><p class="c6"><span class="c5 c4 c22">Remember:</span><span class="c5 c4">&nbsp;A PLAYER:player_name argument can always be used to specify a specific player if necessary.</span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span class="c5 c4"></span></p><h2 class="c6"><a name="h.ilj3xmh03zlv"></a><span class="c39 c23">KILL</span></h2><p class="c6"><span class="c5 c4">Keeps track of Entities killed by the player.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Usage:</span></p><p class="c6"><span class="c3">listen kill </span><span class="c3 c40">[type:NPC|PLAYER|GROUP|ENTITY] [target:entity_type] (qty:##) (region:region_id)</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Arguments:</span></p><p class="c6"><span class="c3 c40">[type:NPC|PLAYER|GROUP|ENTITY]</span><span class="c3 c64">&nbsp;</span><span class="c3">defines the type of entity that will need to be killed to be counted. Further defined in the target argument.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">[target:target_name|target_name2|...] </span><span class="c3">is a list of the targets that will count as a kill. It varies depending on the type of kill listener. If it is an NPC type, target_name would be the name of the NPC that would count as a kill. For PLAYER type kill listeners, target_name is the player&rsquo;s name. The GROUP type uses permission group names for target_name. Lastly, ENTITY type kill listeners are for mobs in game (i.e. skeleton, zombie, bat, spider, etc).</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">(qty:##) </span><span class="c3">is the number of kills the player must get to finish the listener. The default is 1.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">(region:region_id) </span><span class="c3">specifies a specific WorldGuard region that the kill must be completed in to count. This allows for narrowing down the listener, and more intimate quests. Currently only supports 1 region name, and </span><span class="c3">not lists like the previous arguments</span><sup><a href="#cmnt57" name="cmnt_ref57">[be]</a></sup><span class="c3">.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5">Example Usage:</span></p><p class="c6"><span class="c3">- listen kill type:entity target:zombie qty:10</span></p><p class="c6"><span class="c3">- listen kill type:player targets:Jeebiss|aufdemrand|Entez</span></p><p class="c6"><span class="c3">- listen kill type:npc target:bandit qty:5 region:bandit_camp</span></p><p class="c0"><span></span></p><p class="c6"><span class="c22">Note:</span><span>&nbsp;You must include an id: and script: arguments from the listen command, read above.</span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span class="c4"></span></p><h2 class="c6"><a name="h.vp9gx09ubz3p"></a><span class="c39 c23">ITEM</span></h2><p class="c6"><span class="c5 c4">Keeps track of items made by the player (crafting, smelting, and fishing).</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Usage:</span></p><p class="c6"><span class="c3">listen item </span><span class="c3 c40">[type:CRAFT|SMELT|FISH] [item:item_name|item_name2|...] (qty:##) (region:region_id)</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Arguments:</span></p><p class="c6"><span class="c3 c40">[type:CRAFT|SMELT|FISH]</span><span class="c3 c64">&nbsp;</span><span class="c3">defines the type of action that needs to be done by the player.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">[item:item_name|item_name2|...] </span><span class="c3">is the list of the items that needs to be made, in the case of CRAFT and SMELT. item_name can be a </span><span class="c18 c3"><a class="c21" href="http://jd.bukkit.org/rb/apidocs/org/bukkit/Material.html">Bukkit Material</a></span><span class="c3">, or an id number. FISH requires item:fish.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">(qty:##) </span><span class="c3">is the number of items that need to be made (or number of fish to be caught) to complete the listener. </span></p><p class="c6"><span class="c3 c22">Note:</span><span class="c3">&nbsp;QTY is tracked when any item on the list is made. If you want X of each item, use separate listeners.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">(region:region_id) </span><span class="c3">specifies a specific WorldGuard region that the item must be made in to count. This allows for narrowing down the listener, and more intimate quests. Currently only supports 1 region name, and not lists like the previous arguments.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5">Example Usage:</span></p><p class="c6"><span class="c3">- listen item type:craft item:wooden_sword qty:1</span></p><p class="c6"><span class="c3">- listen item type:smelt items:iron_ingot|gold_ingot qty:10</span></p><p class="c6"><span class="c3">- listen item type:fish item:fish qty:5 region:fishing_pool</span></p><p class="c0"><span></span></p><p class="c6"><span class="c22">Note:</span><span>&nbsp;You must include an id: and script: arguments from the listen command, read above.</span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span></span></p><h2 class="c6"><a name="h.rac58fknga9r"></a><span class="c39 c23">BLOCK</span></h2><p class="c6"><span class="c5 c4">Keeps track of blocks affected by the player.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Usage:</span></p><p class="c6"><span class="c3">listen block </span><span class="c3 c40">[type:BUILD|BREAK|COLLECT] [block:block_name|block_name2|...] (qty:##) (region:region_id)</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Arguments:</span></p><p class="c6"><span class="c3 c40">[type:BUILD|BREAK|COLLECT]</span><span class="c3 c64">&nbsp;</span><span class="c3">defines the type of action that needs done to the blocks.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">[block:block_name|block_name2|...] </span><span class="c3">is the list of the blocks that needs to be affected for an action to count.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">(qty:##) </span><span class="c3">is the number of items that need to be made (or number of fish to be caught) to complete the listener. </span></p><p class="c6"><span class="c3 c22">Note:</span><span class="c3">&nbsp;QTY is tracked when any block on the list is affected. If you want X of each block, use separate listeners.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">(region:region_id) </span><span class="c3">specifies a specific WorldGuard region that the block must be affected in to count. This allows for narrowing down the listener, and more intimate quests. Currently only supports 1 region name, and not lists like the previous arguments.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5">Example Usage:</span></p><p class="c6"><span class="c3">- listen block type:build block:log qty:1</span></p><p class="c6"><span class="c3">- listen block type:break block:iron_ore|gold_ore qty:10</span></p><p class="c6"><span class="c3">- listen block type:collect block:fish qty:5 region:fishing_pool</span></p><p class="c0"><span></span></p><p class="c6"><span class="c22">Note:</span><span>&nbsp;You must include an id: and script: arguments from the listen command, read above.</span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span></span></p><h2 class="c6"><a name="h.xfp6yfax4fll"></a><span class="c39 c23">TRAVEL</span></h2><p class="c6"><span class="c5 c4">Keeps track of traveling done by </span><span class="c5 c4">the player.</span><sup><a href="#cmnt58" name="cmnt_ref58">[bf]</a></sup></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Usage:</span></p><p class="c6"><span class="c3">listen travel </span><span class="c3 c40">[type:DISTANCE|TOLOCATION|TONPC] (location:x,y,z,world) (distance:#) &nbsp;(target:NPC.npc_name) (radius:#)</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Arguments:</span></p><p class="c6"><span class="c3 c40">[type:DISTANCE|TOLOCATION|TONPC]</span><span class="c3 c64">&nbsp;</span><span class="c3">defines the type of travel the listener will watch for. The DISTANCE type listens for the player to travel the specified amount of blocks. The TOLOCATION type listens for the player to enter the stated radius around the location specified in the arguments. Lastly, the TONPC type listens for the player to enter the stated radius around the specified npc.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">(location:x,y,z,world) </span><span class="c3">is the location that the player must walk to in the TOLOCATION type.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">(distance:#) </span><span class="c3">is the number of blocks the player must travel to complete a DISTANCE type listener.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">(target:NPC.npc_name) </span><span class="c3">is the NPC the must be reached using the TONPC type listener. </span></p><p class="c6"><span class="c3 c22">Note:</span><span class="c3">&nbsp;The argument requires you use NPC.npc_name. (example: NPC.jeebiss)</span></p><p class="c0"><span></span></p><p class="c6"><span class="c3 c40">(radius:#) </span><span class="c3">defines a radius around the destination, that the player must enter to complete the listener. Radiuses can only be used on TONPC and TOLOCATION type listeners.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5">Example Usage:</span></p><p class="c6"><span class="c3">- listen travel type:distance distance:150</span></p><p class="c6"><span class="c3">- listen travel type:tonpc &ldquo;target:NPC.Town Guard&rdquo; radius:2</span></p><p class="c6"><span class="c3">- listen travel type:tolocation location:125,65,198,rpgworld radius:5</span></p><p class="c0"><span></span></p><p class="c6"><span class="c22">Note:</span><span>&nbsp;You must include an id: and script: arguments from the listen command, read above.</span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span></span></p><h2 class="c6"><a name="h.z3pzrrx7d5f"></a><span class="c39 c23">ITEMDROP</span><sup><a href="#cmnt59" name="cmnt_ref59">[bg]</a></sup></h2><p class="c6"><span class="c5 c4">Controls the dropping of items from player events. You control the frequency of drops, and now many are needed, and where they drop at.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Usage:</span></p><p class="c6"><span class="c3">listen itemdrop </span><span class="c3 c40">[type:MOBKILL|BLOCKBREAK|DROPSFROM] (item:item_name) (qty:#) (region:wg_region_name) &nbsp;(location:x,y,z,world) (radius:#) (droprate:#) (dropsfrom:entity_name)</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5 c16">Arguments:</span></p><p class="c6"><span class="c3 c40">[type:MOBKILL|BLOCKBREAK|BLOCKPLACE]</span><span class="c3 c64">&nbsp;</span><span class="c3">defines the type of action that will drop the item.</span></p><p class="c0"><span class="c3 c40"></span></p><p class="c6"><span class="c3 c40">(item:item_name) </span><span class="c3">defines the item that will be dropped. The item: arg supports </span><span class="c18 c3"><a class="c21" href="http://jd.bukkit.org/rb/apidocs/org/bukkit/Material.html">material names</a></span><span class="c3">, item IDs/data values, and item scripts for custom items.</span></p><p class="c0"><span class="c3 c40"></span></p><p class="c6"><span class="c3 c40">(qty:#) </span><span class="c3">sets the amount of the item that will be dropped. Once the QTY is reached, the listener completes.</span></p><p class="c0"><span class="c3 c40"></span></p><p class="c6"><span class="c3 c40">(region:wg_region_name) </span><span class="c3">specifies the WorldGuard region in which the item will drop. Events outside of the region will not drop the item.</span></p><p class="c0"><span class="c3 c40"></span></p><p class="c6"><span class="c3 c40">(location:x,y,z,world) </span><span class="c3">specifies a location in which the item will drop around.</span></p><p class="c0"><span class="c3 c40"></span></p><p class="c6"><span class="c3 c40">(radius:#) </span><span class="c3">is the radius around the location argument, that the item will drop in.</span></p><p class="c0"><span class="c3 c40"></span></p><p class="c6"><span class="c3 c40">(droprate:#) </span><span class="c3">defines the chance that the item will drop. Can be 1-100.</span></p><p class="c0"><span class="c3 c40"></span></p><p class="c6"><span class="c3 c40">(dropsfrom:entity_name) </span><span class="c3">is the entity that will drop the item if it is a MOBKILL, supports most </span><span class="c18 c3"><a class="c21" href="http://jd.bukkit.org/rb/apidocs/org/bukkit/entity/LivingEntity.html">LivingEntities</a></span><span class="c3">. For BLOCKBREAK and BLOCKPLACE, DROPSFROM specifies the bukkit </span><span class="c18 c3"><a class="c21" href="http://jd.bukkit.org/rb/apidocs/org/bukkit/Material.html">material</a></span><span class="c3">&nbsp;that drops the item.</span></p><p class="c0"><span class="c5"></span></p><p class="c6"><span class="c5">Example Usage:</span></p><p class="c6"><span class="c3">- listen itemdrop type:mobkill region:bandit_camp droprate:10 item:zombie_brain qty:5 dropsfrom:zombie </span></p><p class="c6"><span class="c3">- listen itemdrop type:blockbreak region:dark_cave droprate:65 item:blood_diamond qty:10</span></p><p class="c6"><span class="c3">- listen itemdrop type:blockplace location:125,68,753,world radius:15 item:secret_note qty:1</span></p><p class="c0"><span></span></p><p class="c6"><span class="c22">Note:</span><span>&nbsp;You must include an id: and script: arguments from the listen command, read above.</span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span></span></p><h2 class="c6"><a name="h.ly7f0a1wss2w"></a><span class="c39">Appendix R: Understanding script timing when using RUNTASK</span></h2><p class="c6"><span><br>The RUNTASK command will execute an external &#39;Task Script Container&#39; which can carry out<br>additional commands. This is especially useful if the current script should &#39;branch&#39; out <br>depending on criteria, such as an IF command, or running a task that is called from more than one place, to avoid code duplication. When dealing with these tasks, however, timing needs to be given attention. RUNTASK has some arguments that can specify exactly how the task should be carried out.<br><br></span><span class="c16">First, the different ways to use RUNTASK:</span><span class="c5"><br></span><span><br>- runtask &#39;name of script&#39;<br> &nbsp;Injects the contents of the task script into the current queue,<br> &nbsp;treating the injected script entries exactly like entries currently<br> &nbsp;in the queue.<br><br>- runtask &#39;name of script&#39; &nbsp;instantly<br> &nbsp;Runs the contents of the task script instantly, before the next<br> &nbsp;command is run in the current queue.<br><br>- runtask &#39;name of script&#39; &nbsp;instantly &nbsp; delay:#<br> &nbsp;Runs the contents of the task script instantly, but pauses it for<br> &nbsp;the specified delay. The contents of the current queue continue<br> &nbsp;on as normal.<br><br>- runtask &#39;name of script&#39; &nbsp;queue<br> &nbsp;Runs the contents of the task script in a seperate queue, inheriting<br> &nbsp;either the default speed, or a speed set by the &#39;speed key&#39; of the<br> &nbsp;task script being called. The contents of the current queue continue on<br> &nbsp;as normal.<br><br>- runtask &#39;name of script&#39; &nbsp;queue &nbsp; delay:#<br> &nbsp;Puts the contents of the task script in a seperate queue, inheriting<br> &nbsp;either the default speed, or a speed set by the &#39;speed key&#39; of the<br> &nbsp;task script being called, but pauses it for the time specified in<br> &nbsp;the delay argument. The contents of the current queue continue on<br> &nbsp;as normal.<br><br>- runtask &#39;name of script&#39; &nbsp;queue:name_of_queue<br> &nbsp;Puts the contents of the task script in a seperate NAMED queue, <br> &nbsp;inheriting either the default speed, or a speed set by the &#39;speed key&#39; <br> &nbsp;of the task script being called. The contents of the current queue <br> &nbsp;continue on as normal, with the new queue running simultaneously.<br><br>- runtask &#39;name of script&#39; &nbsp;queue:name_of_queue &nbsp; delay:#<br> &nbsp;Puts the contents of the task script in a seperate NAMED queue, <br> &nbsp;inheriting either the default speed, or a speed set by the &#39;speed key&#39; <br> &nbsp;of the task script being called, but pauses it for the time specified <br> &nbsp;in the delay argument. The contents of the current queue continue on<br> &nbsp;as normal.<br><br><br><br>In a nutshell, there are a couple different behaviors and limitations that should be noted:<br><br>When using &#39;runtask script_name&#39; with no additional arguments, the contents of the task script is injected into the current script in place of the runtask command. If a &#39;speed key&#39; is present on the task script, it is ignored since this queue already has a set speed. Do note, however, that if a &#39;queue set_speed:#&#39; command is present, it WILL change the speed, and affect the speed of any remaining script-entries.<br><br></span><span class="c26">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +<br>Take the following as an example: &nbsp; &nbsp; &nbsp; | &nbsp;Example execution order, with timing:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+ &nbsp; &nbsp;(New queue created)<br>&#39;example_script&#39;: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;command1 args <br> &nbsp;type: task &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(10 ticks)<br> &nbsp;speed: 10t &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;command2 args<br> &nbsp;script: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;(10 ticks)<br> &nbsp;- command1 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;command3 args<br> &nbsp;- command2 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;(10 ticks)<br> &nbsp;- command3 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;addlcommand1 args &nbsp; +<br> &nbsp;- runtask &#39;addl_commands&#39; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;(10 ticks) &nbsp; &nbsp; &nbsp; &nbsp;|<br> &nbsp;- command4 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;addlcommand2 args &nbsp; &lt;--&lt;&lt; These commands have been<br> &nbsp;- command5 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;(10 ticks) &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; injected from the task<br> &nbsp;- command6 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;addlcommand3 args &nbsp; + &nbsp; &nbsp; script specified. Injection<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(10 ticks) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;is the default behavior of<br>&#39;addl_commands&#39;: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;command4 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the &#39;runtask&#39; command.<br> &nbsp;type: task &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(10 ticks)<br> &nbsp;speed: 5t &nbsp; &lt;------&lt;&lt; Note that since | &nbsp;command5 args<br> &nbsp;script: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this is being &nbsp; | &nbsp; &nbsp;(10 ticks)<br> &nbsp;- addlcommand1 args &nbsp; called from an &nbsp;| &nbsp;command6 args<br> &nbsp;- addlcommand2 args &nbsp; existing queue, | &nbsp; &nbsp;(Queue ends) &nbsp; &nbsp; &nbsp;<br> &nbsp;- addlcommand3 args &nbsp; it is ignored. &nbsp;|<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+<br>Here&#39;s another example, showed with &nbsp; &nbsp; | &nbsp;Example execution order, with timing:<br>the &#39;queue set&#39; command to change up &nbsp; &nbsp;|<br>speed on a queue. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+ &nbsp; &nbsp;(New queue created)<br>&#39;example_script&#39;: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;command1 args <br> &nbsp;type: task &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(10 ticks)<br> &nbsp;speed: 10t &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;queue set speed:5 &nbsp;&lt;--&lt;&lt; The speed of the queue<br> &nbsp;script: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;(5 ticks) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;that is processing this<br> &nbsp;- command1 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;addlcommand1 args &nbsp; &nbsp; &nbsp; &nbsp;script is changed to 5.<br> &nbsp;- runtask &#39;addl_commands&#39; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;(5 ticks) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Notice that the remaining<br> &nbsp;- command2 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;command2 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;entries of the script<br> &nbsp;- command3 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;(5 ticks) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;are also affected.<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;command3 args &nbsp;<br>&#39;addl_commands&#39;: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(Queue ends)<br> &nbsp;type: task &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;<br> &nbsp;speed: 5t &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;<br> &nbsp;script: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;<br> &nbsp;- queue set speed:5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br> &nbsp;- addlcommand1 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+<br></span><span><br>So to wrap this concept up, tasks called by runtask will inherit the queue and speed from which it was called. There are times in which this behavior may be unwanted, however, but rest assured that there are ways to modify behavior. First up: INSTANTLY<br><br>To avoid inheriting speed, when using INSTANTLY, a NEW ScriptQueue is created to run the commands carried out.<br><br></span><span class="c26">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +<br>In this example, the INSTANTLY argument | &nbsp;Example execution order, with timing:<br>is used. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+ &nbsp; &nbsp;(New queue created)<br>&#39;example_script&#39;: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;command1 args <br> &nbsp;type: task &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(10 ticks)<br> &nbsp;speed: 10t &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;runtask &#39;addl_commands&#39; <br> &nbsp;script: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;instantly &nbsp; &gt;&gt;---------&gt; (New queue created)<br> &nbsp;- command1 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addlcommand1 args <br> &nbsp;- runtask &#39;addl_commands&#39; instantly &nbsp; | &nbsp; &nbsp;(Queue resumes) &lt;-+ &nbsp; &nbsp; &nbsp;addlcommand2 args<br> &nbsp;- command2 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;(10 ticks) &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;addlcommand3 args<br> &nbsp;- command3 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;command2 args &nbsp; &nbsp; &nbsp; +---&lt;&lt; addlcommand4 args<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(10 ticks) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (Queue ends)<br>&#39;addl_commands&#39;: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;command3 args<br> &nbsp;type: task &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(Queue ends)<br> &nbsp;script: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;<br> &nbsp;- addlcommand1 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;<br> &nbsp;- addlcommand2 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;Note: The new queue created is an instant queue,<br> &nbsp;- addlcommand3 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;which has no speed. The entirety of the script<br> &nbsp;- addlcommand4 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;is processed upon creation.<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+<br></span><span><br>So far all the examples have been called from task scripts, but it&#39;s worth mentioning that the behavior is the exact same when being called from any other script, say for example, an interact script. Since interact scripts have a default speed (7t by default), any task script called with runtask will inherit the speed of the interact script, unless...<br><br>Queues. When creating a NEW queue, the task script &#39;speed key&#39; will be used to define the starting speed. Think of queues like &#39;threads&#39;, or &#39;processes&#39;. Multiple queues run independently of each other, allowing many things to happen on their own. By default, Denizen makes a new queues all the time. For each action, or trigger from an interact script, a new anonymous queue is created, the contents of the script is added to it, and each command is carried out. New interactions and actions, even if triggered while a queue is currently carrying out execution of commands, are run simultaneously in a seperate queue.<br><br>For example, use the following diagram as an example of timing. Though generalized, it should give a small visual of how multiple interactions are executed independently.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><a href="#" name="55bb96fb23570872f83c0ba65cf60ead1a3fc793"></a><a href="#" name="22"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c87 c51"><p class="c1 c6"><span class="c5 c41">Appendix R, Table 4: &nbsp; </span><span>Example of script queue timing.</span></p></td></tr><tr class="c45"><td class="c94 c84"><p class="c1 c6"><span class="c3">Player clicks on NPC &gt;&gt;--------------------------------------------------&gt; (New Queue created)<br>(Script has 8 entries) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Entry 1 executed<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (Default 7 ticks) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Entry 2 executed<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (Default 7 ticks)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Entry 3 executed<br>Player chats with NPC &gt;&gt;-------------------------&gt; (New Queue created)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; (Default 7 ticks)<br>(Script has 5 entries) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Entry 1 executed &nbsp; &nbsp; &nbsp; &nbsp;Entry 4 executed<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (Default 7 ticks) &nbsp; &nbsp; &nbsp; (Default 7 ticks)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Entry 2 executed &nbsp; &nbsp; &nbsp; &nbsp;Entry 5 executed<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (Default 7 ticks) &nbsp; &nbsp; &nbsp; (Default 7 ticks)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entry 3 calls a new queue &lt;--&lt;&lt; &nbsp;Entry 3 executed &nbsp; &nbsp; &nbsp; &nbsp;Entry 6 executed<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(New Queue created) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(Default 7 ticks) &nbsp; &nbsp; &nbsp; (Default 7 ticks)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entry 1 executed &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entry 4 executed &nbsp; &nbsp; &nbsp; &nbsp;Entry 7 executed<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(Default 7 ticks) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(Default 7 ticks) &nbsp; &nbsp; &nbsp; (Default 7 ticks)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entry 2 executed &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entry 5 executed &nbsp; &nbsp; &nbsp; &nbsp;Entry 8 executed<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(Queue ends) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (Queue ends) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(Queue ends)</span><span class="c26"><br></span></p></td></tr></tbody></table><p class="c0"><span><br><br></span></p><p class="c6"><span class="c26"><br></span><span>Introducing the QUEUE argument for RUNTASK.<br><br>So far, the examples have showed how to inject entries from a task script into a currently<br>running queue. Sometimes it is desired to make a new queue to carry out the script contents.</span><span><br></span></p><p class="c0"><span></span></p><a href="#" name="257b0fcba4853ad6f17b11b3cafa41fa72db002d"></a><a href="#" name="23"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr><td class="c51 c87"><p class="c1 c6"><span class="c5 c41">Appendix R, Table 5: &nbsp; </span><span>Runtask using the &lsquo;</span><span class="c26">queue</span><span>&rsquo; argument.</span></p></td></tr><tr><td class="c84 c94"><p class="c1 c6"><span class="c3">Take the following as an example: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;Example execution order, with timing:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + &nbsp; &nbsp;(New queue created)<br>&#39;example_script&#39;: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;command1 args <br> &nbsp;type: task &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;(10 ticks)<br> &nbsp;speed: 10t &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;command2 args<br> &nbsp;script: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(10 ticks)<br> &nbsp;- command1 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;command3 args<br> &nbsp;- command2 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(10 ticks)<br> &nbsp;- command3 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;runtask addl_commands queue &nbsp;<br> &nbsp;- runtask &#39;addl_commands&#39; queue &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(Creates a new queue) &gt;&gt;----&gt; (New queue created)<br> &nbsp;- command4 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;addlcommand1 args &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp;- command5 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(5 ticks)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;addlcommand2 args<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;(10 ticks) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(5 ticks)<br>&#39;addl_commands&#39;: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp;command4 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addlcommand3 args &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br> &nbsp;type: task &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;(10 ticks) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(Queue ends)<br> &nbsp;speed: 5t &nbsp; &lt;------&lt;&lt; Note that &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;command5 args &nbsp; &nbsp;<br> &nbsp;script: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this is now &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;(Queue ends)<br> &nbsp;- addlcommand1 args &nbsp; honored since &nbsp; &nbsp; &nbsp;| &nbsp;<br> &nbsp;- addlcommand2 args &nbsp; a new queue is &nbsp; &nbsp; | &nbsp;<br> &nbsp;- addlcommand3 args &nbsp; created. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br></span></p></td></tr></tbody></table><p class="c6"><span><br><br></span><span>The QUEUE argument can also have a value to give the queue a name. This is useful if the queue will need to be modified after creation</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c6"><span>(...still developing)</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><a href="#" name="id.7gk9d3vkxllb"></a><h2 class="c6"><a name="h.mtth79oms6qs"></a><span class="c8 c50">Appendix S: Special Character Replaceable Tags</span></h2><p class="c0"><span></span></p><p class="c6"><span>Included in Denizen are some ways to use special characters in situations that the YAML or dScript engine may disallow specific combinations. This is useful, for example, when using the &lsquo;:&rsquo; character literally, or using foreign characters when UTF-8 is not enabled.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><a href="#" name="4eaa9f604b1af15c860ee8ae50fb064ec82620e9"></a><a href="#" name="24"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;co&gt; :</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">newline &lt;&amp;nl&gt;</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;cm&gt; ,</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;ss&gt; &sect;</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;sq&gt; &#39;</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;dq&gt; &quot;</span></p></td></tr><tr><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;lb&gt; [</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;rb&gt; ]</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;cl&gt; {</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;cr&gt; }</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;auml&gt; &auml;</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;auml&gt; &Auml;</span></p></td></tr><tr><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;ouml&gt; &ouml;</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;Ouml&gt; &Ouml;</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;uuml&gt; &uuml;</span></p></td><td class="c34"><p class="c1 c6 c53"><span class="c26">&lt;&amp;Uuml&gt; &Uuml;</span></p></td><td class="c34"><p class="c0 c1 c53"><span class="c26"></span></p></td><td class="c34"><p class="c0 c1 c53"><span class="c26"></span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c6"><span class="c4">Appendix T: Core Replaceable Tags</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c4">(Still being compiled and documented... see </span><span class="c18 c4"><a class="c21" href="http://pastebin.com/KBADLinZ">http://pastebin.com/KBADLinZ</a></span><span class="c4">&nbsp;for a down and dirty partial list)</span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span class="c4"></span></p><a href="#" name="id.wnkfr39yg71d"></a><h2 class="c6"><a name="h.69wk9moul6fp"></a><span class="c39">Appendix U: Core Utility Scripts</span></h2><p class="c6"><span>Included in Denizen are some utility scripts meant to make some common tasks easier.</span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><a href="#" name="4d6218c7d5eb6de11549367a2c0d4a9e155eaa94"></a><a href="#" name="25"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr><td class="c107"><h3 class="c6"><a name="h.56hmyqrc26zd"></a><span class="c39">Loop Through</span></h3><p class="c0"><span class="c4"></span></p><p class="c6"><span>Denizen has a utility script named &#39;loop through&#39; that, when given some context, can make it easy to create a loop when dealing with a flag list.<br></span></p><p class="c6"><span>Simply use the following command:</span><span class="c4"><br></span></p><p class="c6"><span class="c3 c59">- runtask &lsquo;loop through&rsquo; &quot;context:Task name|Flag name|Flag type&quot;</span><span class="c3"><br></span></p><p class="c6"><span>..along with a task script to run on each item iteration. Add a &#39;</span><span class="c26">context: value</span><span>&#39; key to the script.<br><br>That&#39;s it! The &lsquo;loop through&rsquo; utility script will run your task once for every value inside the flag list specified. The value of each iteration can be used with the </span><span class="c26">&lt;context.value&gt;</span><span>&nbsp;tag in your task.</span><span class="c4"><br></span></p></td><td class="c69"><p class="c0 c1"><span class="c4"></span></p></td><td class="c86"><p class="c0"><span></span></p><a href="#" name="52c79c236655857ba7933e9101c2dbe0a098d5c7"></a><a href="#" name="26"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c51 c98"><p class="c1 c6"><span class="c4">Appendix U: A sample script using &lsquo;loop through&rsquo;</span></p></td></tr><tr class="c45"><td class="c71"><p class="c6"><span class="c9">Example Loop Task:<br> &nbsp;type: task<br></span></p><p class="c6"><span class="c9">&nbsp; script:<br> &nbsp; &nbsp;# First, set up a small flag list to use </span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # in this example.<br> &nbsp;- flag player &#39;attributes:-&gt;:crunchy&#39;<br> &nbsp;- flag player &#39;attributes:-&gt;:munchy&#39;<br> &nbsp;- flag player &#39;attributes:-&gt;:yummy&#39;<br><br> &nbsp; &nbsp;# Now, call the loop! This requires 3 </span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # pieces of context:<br> &nbsp; &nbsp;# 1) the name of the task &nbsp;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # 2) the name of the flag, and &nbsp;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # 3) the type of flag<br> &nbsp;- runtask &#39;loop through&#39; </span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &#39;context:example task|attributes|player&#39;<br><br> &nbsp; &nbsp;# And just for good measure, let&#39;s remove the</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # test flag that was made in in this example,</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # since we no longer need it.<br> &nbsp;- flag player attributes:!<br><br># This is the task script that is called for each</span></p><p class="c6"><span class="c9"># item in the loop. Remember to define the context!<br>Example task:<br> &nbsp; &nbsp;type: task<br> &nbsp; &nbsp;context: value<br></span></p><p class="c6"><span class="c9">&nbsp; &nbsp; script:<br> &nbsp; &nbsp;- announce &quot;&lt;player.name&gt; is &lt;context.value&gt;!&quot;</span></p></td></tr></tbody></table><p class="c0"><span class="c4"><br></span></p></td></tr></tbody></table><p class="c0"><span class="c4"></span></p><p class="c0"><span></span></p><p class="c0"><span class="c4"><br></span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><h2 class="c6 c10"><a name="h.wghorabar2d6"></a></h2><hr style="page-break-before:always;display:none;"><h2 class="c10 c6"><a name="h.9ual43ehfcfv"></a></h2><a href="#" name="id.u8w5eyf5q99v"></a><h2 class="c6"><a name="h.j7xa415fw581"></a><span class="c39">Appendix W: world script events and applicable context tags</span></h2><p class="c0"><span class="c4"></span></p><p class="c6"><span>Following is a list of currently implemented world script events, and any specific context tags that can be accessed from the event. To utilize a specific piece of context, use the context replaceable tag. </span></p><p class="c0"><span class="c8 c23"></span></p><a href="#" name="374093395a6c2bc8e063c11218703dac45d250cb"></a><a href="#" name="27"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr><td class="c47"><p class="c6"><span>Example:</span></p><p class="c6"><span class="c2">&lt;context.ip&gt;</span><span>&nbsp;or </span><span class="c2">&lt;context.message&gt;</span></p><p class="c0"><span></span></p><p class="c6"><span>Note: Some event names can contain &lsquo;dynamic&rsquo; information which is indicated with the use of </span><span class="c26">[brackets]</span><span>.</span></p><p class="c0"><span></span></p><p class="c6"><span>Many events use the DETERMINE script command to return a response back to the event, which can modify behavior or stop the event altogether. By default, </span><span class="c16">using </span><span class="c26 c16">DETERMINE</span><span class="c16">&nbsp;will stop the script</span><span>&nbsp;and return the determined value instantly. If this is undesired, use the </span><span class="c16">passively</span><span>&nbsp;argument, which will record the determination, but allow the script to fully execute before returning.</span></p><p class="c0"><span></span></p><p class="c6"><span>For example:</span></p><p class="c6"><span class="c2">- determine passively cancelled</span></p><p class="c0"><span></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">On [command_name] command:</span></p><p class="c6"><span class="c8 c11">On command:</span></p><p class="c0"><span class="c8 c57"></span></p><p class="c0"><span class="c8 c57"></span></p><p class="c6"><span>Fires right before a command is processed. This can be used to mimic the behavior of a standard bukkit command by determining the event fulfilled, then performing any needed commands. The &lsquo;args&rsquo; context will fulfill any replaceable tags used in the command.</span></p><p class="c0"><span></span></p><p class="c6"><span>Note: This only works for player commands, console commands are ignored. There currently seems to be no way around this limitation.</span></p><p class="c0"><span></span></p><p class="c6"><span>Also note: </span><span class="c16">Running a script without determining it fulfilled will still send an error message</span><span>&nbsp;from bukkit stating it is an unknown command. To avoid that message, it MUST be determined fulfilled.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available context: </span></p><p class="c6"><span class="c19">command</span><span>&nbsp;- contains name of the command</span></p><p class="c6"><span class="c19">args</span><span>&nbsp;- contains a dScript list of the arguments, with tags filled</span></p><p class="c6"><span class="c19">raw_args</span><span>&nbsp;- contains the arguments as exactly typed in by the player, no tags filled.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available Determinations:</span></p><p class="c6"><span class="c26">DETERMINE FULFILLED</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c6"><span class="c8 c11">On player login:</span></p><p class="c0"><span class="c8 c57"></span></p><p class="c6"><span>Fires when a player logs in. This is before the join event and can be used to determine whether the player should be allowed to continue logging in.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available context: </span></p><p class="c6"><span class="c19">hostname</span><span>&nbsp;- contains the player&rsquo;s hostname</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available Determinations:</span></p><p class="c6"><span class="c26">DETERMINE KICKED</span></p><p class="c6"><span class="c26">DETERMINE &#39;KICKED:Kick message.&#39;</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c6"><span class="c8 c11">On player join:</span></p><p class="c6"><span class="c8 c11">On player quit:</span></p><p class="c0"><span class="c8 c57"></span></p><p class="c6"><span>Fires when a player joins/quits the server. Modification of the default message can be changed by determining a message. The player invoking the event is also attached and may be referenced.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available context: </span></p><p class="c6"><span class="c19">message</span><span>&nbsp;- contains the current message that will show</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available Determinations:</span></p><p class="c6"><span class="c26">DETERMINE &#39;MESSAGE:New message.&#39;</span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span class="c8 c11">On walked over [notable location]:</span></p><p class="c0"><span class="c8 c57"></span></p><p class="c6"><span>Fires when a player walks over a defined notable location. This may fire several times while walking over the location, so some kind of logic should be used to provide some kind of cooldown if that is not intended. Determining the event frozen will keep the Player from moving. The Player walking over the location is attached to the entries and can be referenced.</span></p><p class="c0"><span></span></p><p class="c6"><span>Note: Use the </span><span class="c26 c51">/notable add --name name_of_location</span><span>&nbsp;command to add a new notable location.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available context: </span></p><p class="c6"><span class="c19">notable_name</span><span>&nbsp;- contains the name of the location walked on</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available Determinations:</span></p><p class="c6"><span class="c26">DETERMINE FROZEN</span></p><p class="c0"><span class="c26"></span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span class="c8 c11">On [#]:00 in [WORLD_NAME]:</span></p><p class="c6"><span class="c8 c11">on time change in [world_name]:</span></p><p class="c0"><span class="c8 c57"></span></p><p class="c6"><span>Fires when the game-time matches the hour. This time is based on a 24-hour clock. Using /time set 6000 will set the time to 1:00. This offset is found at </span><span class="c18"><a class="c21" href="http://www.minecraftwiki.net/wiki/Day-night_cycle">http://www.minecraftwiki.net/wiki/Day-night_cycle</a></span><span>&nbsp;(click on the day/night clock). Denizen has a /dtime # command which will calculate the offset. For example, </span><span class="c26 c51">/dtime 12</span><span>&nbsp;would be the same as /time set 6000. To save on CPU-cycles, there may be a slight delay of up to 10 seconds before firing the event. Currently, only the hour can be harnessed, not minutes. For example, &lsquo;On 1:30 in world:&rsquo; will not work.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available context: </span></p><p class="c6"><span class="c19">time</span><span>&nbsp;- contains the hour of the current time</span></p><p class="c6"><span class="c19">world</span><span>&nbsp;- contains the world name</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c6"><span class="c8 c11">On player regains health:</span></p><p class="c0"><span class="c8 c57"></span></p><p class="c6"><span>Fires when a player&rsquo;s health level increases. Comes with &lsquo;reason&rsquo; context which further explain the reasoning of the health event. Valid reasons: EATING, ENDER_CRYSTAL, MAGIC, MAGIC_REGEN, REGEN, SATIATED and CUSTOM. Can also determine the amount of health that should be regained or whether the event should be cancelled altogether.</span></p><p class="c0"><span class="c16"></span></p><p class="c6"><span class="c16">Available context: </span></p><p class="c6"><span class="c19">reason</span><span>&nbsp;- contains why the health is being regained</span></p><p class="c6"><span class="c19">amount</span><span>&nbsp;- contains the amount of health to be regained</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available Determinations:</span></p><p class="c6"><span class="c26">DETERMINE CANCELLED</span></p><p class="c6"><span class="c26">DETERMINE AMOUNT:#</span></p><p class="c0"><span class="c26"></span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span class="c8 c11">On player damaged:</span></p><p class="c6"><span class="c8 c11">On player damaged by [cause]:</span></p><p class="c6"><span class="c8 c11">on player damaged by npc:</span></p><p class="c6"><span class="c8 c11">on player damaged by [entity_type]:</span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span>Fires when a player is damaged. Comes with &lsquo;cause&rsquo; context which further explain the reasoning of the damage event. Valid causes: BLOCK_EXPLOSION, CONTACT, DROWNING, ENTITY_ATTACK, ENTITY_EXPLOSION, FALL, FALLING_BLOCK, FIRE, FIRE_TICK, LAVA, LIGHTNING, MAGIC, MELTING, POISON, PROJECTILE, STARVATION, SUFFOCATION, SUICIDE, VOID, WITHER &nbsp;and CUSTOM. Can also determine the amount of health that should be taken or whether the event should be cancelled altogether.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available context: </span></p><p class="c6"><span class="c19">cause</span><span>&nbsp;- contains why the damage is being inflicted</span></p><p class="c6"><span class="c19">amount</span><span>&nbsp;- contains the amount of damage inflicted</span></p><p class="c6"><span class="c19">damager</span><span>&nbsp;- contains the damager, if a NPC it contains the npcid</span></p><p class="c6"><span class="c19">damaging entity</span><span>&nbsp;- contains the entity_type of the damager</span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span class="c16">Available Determinations:</span></p><p class="c6"><span class="c26">DETERMINE CANCELLED</span></p><p class="c6"><span class="c26">DETERMINE DAMAGE:#</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">On SERVER START:</span></p><p class="c0"><span class="c8 c57"></span></p><p class="c6"><span>Fires when the server first starts up, after all plugins have been loaded.</span></p><p class="c0"><span class="c26"></span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span class="c8 c11">On player DEATH:</span></p><p class="c0"><span class="c8 c57"></span></p><p class="c6"><span>Fires when a player dies. Modification of the default message can be changed by determining a message. The player invoking the event is also attached and may be referenced.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available context: </span></p><p class="c6"><span class="c19">message</span><span>&nbsp;- contains the current message that will show</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available Determinations:</span></p><p class="c6"><span class="c26">DETERMINE &#39;MESSAGE:New message.&#39;</span></p><p class="c0"><span class="c26"></span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span class="c8 c11">On player chats:</span></p><p class="c0"><span class="c26"></span></p><p class="c6"><span>Fires when a player chats. Modification of the message can be changed by determining a message. The player invoking the event is also attached and may be referenced. Determining cancelled will stop the event (and the chat), as well as stop any chat trigger from triggering.</span></p><p class="c0"><span></span></p><p class="c6"><span class="c16">Available context:</span><span class="c26 c16">&nbsp;</span></p><p class="c6"><span class="c19">message</span><span>&nbsp;- contains the current message that will show</span></p><p class="c0"><span class="c16"></span></p><p class="c6"><span class="c16">Available Determinations:</span></p><p class="c6"><span class="c26">DETERMINE &#39;MESSAGE:New message.&#39;</span></p><p class="c6"><span class="c26">DETERMINE CANCELLED</span></p><p class="c0"><span class="c26"></span></p><p class="c0"><span class="c26"></span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span></span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p></td><td class="c96"><p class="c0"><span class="c4"></span></p></td><td class="c75"><p class="c6"><span class="c16">Example world scripts:</span></p><p class="c0"><span class="c16"></span></p><a href="#" name="0dbd5d01c51d9c40bb86d575629f2a165bb03f1f"></a><a href="#" name="28"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c44"><p class="c6"><span class="c4 c51">Appendix W: Custom Whitelist</span></p></td></tr><tr class="c45"><td class="c61"><p class="c6"><span class="c9"># Custom Whitelist</span></p><p class="c6"><span class="c9"># Simple usage of the &lsquo;on player login&rsquo; and</span></p><p class="c6"><span class="c9"># &lsquo;on ... command&rsquo; events.</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&#39;Members only Whitelist&#39;:</span></p><p class="c6"><span class="c9">&nbsp; type: world</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&nbsp; events:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # Enforce the whitelist, kick any players</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # attempting to join without </span></p><p class="c6"><span class="c9">&nbsp; &nbsp; on player login:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - if !&lt;flag.g:members.aslist&gt; contains</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; &lt;player.name&gt; determine &#39;kicked:Members only!&#39;</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # Add some commands to help add/remove/show</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # current members in the whitelist.</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # Usage: /addmember aufdemrand</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; on addmember command:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - if !&lt;player.is_op&gt; queue clear</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - flag global members:-&gt;:&lt;context.args&gt;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - narrate &#39;&lt;green&gt;&lt;context.args&gt; has been</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; added to the whitelist.&#39;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - determine fulfilled</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&nbsp; &nbsp; on removemember command:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; # If player is not an op, clear the queue</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; # so the script is not run</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - if !&lt;player.is_op&gt; queue clear</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - flag global members:&lt;-:&lt;context.args&gt;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - narrate &#39;&lt;red&gt;&lt;context.args&gt; has been</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; removed from the whitelist.&#39;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - determine fulfilled</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&nbsp; &nbsp; on showmembers command:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - if !&lt;player.is_op&gt; queue clear</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; # Show the members as a comma-separated list</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - narrate &lsquo;&lt;gold&gt;Current members:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; &lt;flag.g:members.ascslist&gt;&rsquo;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - determine fulfilled</span></p><p class="c0"><span class="c12"></span></p></td></tr></tbody></table><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span class="c16"></span></p><a href="#" name="29cc8f806160b873a1049de7e6c54b145142daed"></a><a href="#" name="29"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c44"><p class="c6"><span class="c4 c51">Appendix W: MOTD</span></p></td></tr><tr class="c45"><td class="c61"><p class="c6"><span class="c9"># Message of the day</span></p><p class="c6"><span class="c9"># Simple usage of the &lsquo;on player join&rsquo; event.</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&#39;MOTD&#39;:</span></p><p class="c6"><span class="c9">&nbsp; type: world</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&nbsp; events:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; on player join:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - determine passively</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; &#39;message:&lt;player.name&gt; has become conscious.&#39;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - narrate &#39;Welcome to our server!&#39;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - narrate &#39;Please make sure to follow the</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; rules so everybody can have a good time.&#39;</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&nbsp; &nbsp; on player quit:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - determine &#39;message:&lt;player.name&gt; has become</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; limp, and has phased out of existence.&#39;</span></p><p class="c0"><span class="c12"></span></p></td></tr></tbody></table><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c16"></span></p><a href="#" name="fdd6a4362e8c1210eca7b62120bc3c915be02801"></a><a href="#" name="30"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c44"><p class="c6"><span class="c4 c51">Appendix W: Bonus Location Loot System</span></p></td></tr><tr class="c45"><td class="c61"><p class="c6"><span class="c9"># Bonus Location Loots System</span></p><p class="c6"><span class="c9"># Simple usage of the &lsquo;on walk over...&rsquo; event</span></p><p class="c6"><span class="c9"># Drops some loot when a player finds a special</span></p><p class="c6"><span class="c9"># location... but only once per location!</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&#39;Bonus Location Loots&#39;:</span></p><p class="c6"><span class="c9">&nbsp; type: world</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&nbsp; events:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # Make one event for each &lsquo;bonus loot location&rsquo;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; on walked over crack in floor:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; # Check to make sure this loot hasn&rsquo;t already</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; # been found. Cancel the script if it has.</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - if &lt;flag.p:found_treasures.aslist&gt;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; contains &lsquo;&lt;context.notable_name&gt;&rsquo;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; queue clear</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; # Add loot name to the list so it can&rsquo;t be</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; # found again.</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - flag found_treasures:-&gt;:&lt;context.notable_name&gt;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; # Acknowledge the player, give the loot.</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - narrate &#39;Sweet! Bonus loot!&#39;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - drop item:diamond qty:5</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; location:&lt;player.location&gt;</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # Second loot location...</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # Add additional locations just like this. </span></p><p class="c6"><span class="c9">&nbsp; &nbsp; on walked over bottom of the well:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - if &lt;flag.p:found_treasures.aslist&gt;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; contains &lsquo;&lt;context.notable_name&gt;&rsquo;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; queue clear</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - flag found_treasures:-&gt;:&lt;context.notable_name&gt;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - narrate &#39;It&rsquo;s wet, but looks valuable!&#39;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - drop item:gold_nugget qty:10</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; location:&lt;player.location&gt;</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # Extra credit: Add a world &lsquo;on command&rsquo; event </span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # that shows the player which locations they</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; # have found :)</span></p><p class="c6"><span class="c9">&nbsp; </span></p></td></tr></tbody></table><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span class="c16"></span></p><a href="#" name="8cbdebc3185129e8e187c3768c0958e676146fd8"></a><a href="#" name="31"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c44"><p class="c6"><span class="c4 c51">Appendix W: Stoneskin</span></p></td></tr><tr class="c45"><td class="c61"><p class="c6"><span class="c9"># Stoneskin </span></p><p class="c6"><span class="c9"># Simple usage of the &lsquo;on player damaged&rsquo; event.</span></p><p class="c6"><span class="c9"># Players who have been flagged &lsquo;stoneskinned&rsquo; will</span></p><p class="c6"><span class="c9"># have reduced damage.</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&#39;Stoneskin skill&#39;:</span></p><p class="c6"><span class="c9">&nbsp; type: world</span></p><p class="c0"><span class="c9"></span></p><p class="c6"><span class="c9">&nbsp; events:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; on player damaged:</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - if !&lt;flag.p:stoneskinned&gt; queue clear</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - flag global new_amt:&lt;context.amount&gt;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; # Stone skinned.. so half the damage.</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - flag global new_amt:/:2</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - narrate &lsquo;You feel the stone skin absorb</span></p><p class="c6"><span class="c12">&nbsp; &nbsp;</span><span class="c9">&nbsp; &nbsp;some of the damage!&rsquo;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - determine passively</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; amount:&lt;flag.g:new_amt.asint&gt;</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; &nbsp; # Remove flag that we used to calculate amount</span></p><p class="c6"><span class="c9">&nbsp; &nbsp; - flag global new_amt:!</span></p></td></tr></tbody></table><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p></td></tr></tbody></table><p class="c0"><span class="c26"></span></p><p class="c0"><span class="c4"></span></p><h3 class="c6 c78"><a name="h.x8vt1n8566ux"></a></h3><p class="c0"><span class="c3"><br></span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><a href="#" name="kix.3mf0ronr3vor"></a><h2 class="c6"><a name="h.upxt75jhaeno"></a><span class="c39">Appendix X: ASSIGNMENT SCRIPT ACTIONS and applicable tags</span></h2><p class="c0"><span class="c4"></span></p><p class="c6"><span>Following is a list of currently implemented assignment script actions, and any specific tags that can be accessed from the action. To utilize a specific piece of context, use the context replaceable tag. </span></p><p class="c0"><span class="c8 c23"></span></p><a href="#" name="7b97b0ad9e414889c6879ec704e782a913d7fba7"></a><a href="#" name="32"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c47"><p class="c6"><span>Example:</span></p><p class="c6"><span class="c2">&lt;context.amount&gt;</span><span>&nbsp;or </span><span class="c2">&lt;context.message&gt;</span></p><p class="c0"><span></span></p><p class="c6"><span>Note: Some action names can contain &lsquo;dynamic&rsquo; information which is indicated with the use of </span><span class="c26">[brackets]</span><span>.</span></p><p class="c0"><span></span></p><p class="c6"><span>Many actions use the DETERMINE script command to return a response back to the action, which can modify behavior or stop the action altogether. By default, </span><span class="c16">using </span><span class="c26 c16">DETERMINE</span><span class="c16">&nbsp;will stop the script</span><span>&nbsp;and return the determined value instantly. If this is undesired, use the </span><span class="c16">passively</span><span>&nbsp;argument, which will record the determination, but allow the script to fully execute before returning.</span></p><p class="c0"><span></span></p><p class="c6"><span>For example:</span></p><p class="c6"><span class="c2">- determine passively cancelled</span></p><p class="c0"><span></span></p><p class="c6"><span>(This section will be filled out soon, but for now, here&rsquo;s a list of all the actions currently implemented)</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c6"><span class="c8 c11">on despawn:</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on spawn:</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on remove:</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on assignment:</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on remove assignment:</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on cast fishing rod:</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on reel in fishing rod:</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on catch fish:</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on start fishing:</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on stop fishing:</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on death</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on death by [entity_type]</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on death by entity</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on death by block</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on death by [death_cause]</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on exhausted</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on push</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on push return</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on sit</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on stand</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on sneak</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on click</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on chat</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on enter proximity</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on exit proximity</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on move proximity</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on damage</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on unavailable</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on no click trigger</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on no damage trigger</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">On BEGIN NAVIGATION</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">On COMPLETE NAVIGATION</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">ON cancel navigation</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on cancel navigation due to [cancel_reason]</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on attack</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c6"><span class="c8 c11">on attack on [entity_type]</span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span class="c8 c11"></span></p><p class="c0"><span></span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span class="c16"></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p></td><td class="c96"><p class="c0"><span class="c4"></span></p></td><td class="c75"><p class="c6"><span class="c16">Example assignment scripts:</span></p><p class="c0"><span class="c16"></span></p><a href="#" name="bb56d762c4c70909cb24374fc323d41b9fdd781f"></a><a href="#" name="33"></a><table cellpadding="0" cellspacing="0" class="c33"><tbody><tr class="c45"><td class="c44"><p class="c6"><span class="c4 c51">Appendix W: </span></p></td></tr><tr class="c45"><td class="c61"><p class="c6"><span class="c9"># </span></p></td></tr></tbody></table><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p></td></tr></tbody></table><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><h3 class="c6 c78"><a name="h.t3lqyqu1e0r3"></a></h3><p class="c0"><span class="c3"><br></span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c4">-------- END --------</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c4">Below here is a copy/paste scratchpad.</span></p><p class="c0"><span class="c4"></span></p><p class="c6 c30"><span class="c18"><a class="c21" href="#h.fk00svtg5p7y">Introduction</a></span></p><p class="c6 c30"><span class="c18"><a class="c21" href="#h.p3zi03sgsqj7">Important links</a></span></p><p class="c6 c30"><span class="c18"><a class="c21" href="#h.kkq2drw52jpa">How it works</a></span></p><p class="c6 c30"><span class="c18"><a class="c21" href="#h.1k5w9dwypwm6">Many thanks to a wonderful Community</a></span></p><p class="c6 c30"><span class="c18"><a class="c21" href="#h.q5wwmg8qye8v">Migrating from Version 0.76</a></span></p><p class="c6 c30"><span class="c18"><a class="c21" href="#h.ah9r7ncio8hi">Getting Started</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.1hzzioqdolpr">How to use the server command system</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.n7mmbfdsdoj1">Denizen CommandS</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.9ehdfidlt3n8">NPC CommandS</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.lyti8bp7tsli">EXPERIMENTAL Commands</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.gyx7syf1sus6">Loading scripts</a></span></p><p class="c6 c30"><span class="c18"><a class="c21" href="#h.e268ywt4zy7f">Getting started with dScript</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.bhds7scelqhx">powered by YAML, a human friendly markup language</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.7q36gpu8muow">script containers</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.v4mcdbc0s2t6">Understanding how arguments are interpreted</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.no7b74pnv9kq">reading argument hints</a></span></p><p class="c6 c30"><span class="c18"><a class="c21" href="#h.lk9vehtrkn3h">Commands A-Z</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.mo50nmo3i89c">Announce</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.tek0spttzacn">Assignment</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.w320i133maqu">Attack</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.cw03cxuxqe6y">Cast</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.ubd6pfu52z64">FLAG</a></span></p><p class="c6 c30"><span class="c18"><a class="c21" href="#h.ljoqr5jdie3i">TROUBLESHOOTING</a></span></p><p class="c6 c30"><span class="c18"><a class="c21" href="#h.hrsccjqx1zwn">Appendix</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.136aieitjlg">Denizen File/Folder Structure</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.6ou9jerd10qy">LISTENERS</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.ilj3xmh03zlv">KILL</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.vp9gx09ubz3p">ITEM</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.rac58fknga9r">BLOCK</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.xfp6yfax4fll">TRAVEL</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.z3pzrrx7d5f">ITEMDROP</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.ly7f0a1wss2w">Appendix R: Understanding script timing when using RUNTASK</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.69wk9moul6fp">Appendix U: Core Utility Scripts</a></span></p><p class="c6 c74"><span class="c18"><a class="c21" href="#h.56hmyqrc26zd">Loop Through</a></span></p><p class="c6 c28"><span class="c18"><a class="c21" href="#h.j7xa415fw581">Appendix W: world script events and context tags</a></span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c4">Bandit:</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; type: assignment</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c4">&nbsp; &nbsp; actions:</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; on assignment:</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - trigger name:proximity toggle:true</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - trigger name:damage toggle:true</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - vulnerable</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - ^execute as_npc &quot;npc select &lt;npc.id&gt;&quot;</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - ^execute as_npc &quot;npc health --respawndelay 11s&quot;</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; on enter proximity:</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - if &lt;flag.n:in_pursuit&gt; queue clear</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - flag npc in_pursuit:true duration:30s</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - random 3</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - chat &quot;Give me your stuff and scram!&quot;</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - chat &quot;What are you looking at? Prepare to meet your doom!&quot;</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - chat &quot;You look like you have some good stuff! Hand them over nicely!&quot;</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - lookclose toggle:true</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; on exit proximity:</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - attack</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - lookclose toggle:false</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - chat &quot;Come back, &lt;player.name&gt;!&quot;</span></p><p class="c0"><span class="c4"></span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; on death:</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - chat &quot;Arrgghhh!&quot;</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - random 3</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - drop item:268 qty:1</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - drop XP qty:10</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - drop item:298 qty:1</span></p><p class="c6"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; - flag npc in_pursuit:!</span></p><p class="c0"><span class="c4"></span></p><p class="c0 c1"><span class="c7"></span></p><sup><a href="#cmnt60" name="cmnt_ref60">[bh]</a></sup><p class="c0 c1"><span class="c7"></span></p><sup><a href="#cmnt61" name="cmnt_ref61">[bi]</a></sup><p class="c0 c1"><span class="c7"></span></p><sup><a href="#cmnt62" name="cmnt_ref62">[bj]</a></sup><p class="c0 c1"><span class="c7"></span></p><sup><a href="#cmnt63" name="cmnt_ref63">[bk]</a></sup><div><p class="c6"><span class="c62 c111">,</span><span>&nbsp;</span></p><p class="c6"><span>&nbsp;of </span><span>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c39 c41 c67">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c39 c67 c41 c93">the denizen Handbook</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref1" name="cmnt1">[a]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Some commands require some kind of string value. Typically, in this kind of case, such values are &#39;required&#39; in the use of the command. For example, /npc create npc name, or /denizen reload scripts. Both &#39;npc name&#39; and &#39;scripts&#39; are required for the command to function.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref2" name="cmnt2">[b]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Value flag, named &#39;flag&#39; and a value of &#39;value&#39;. Value flags are sometimes optional, but usually provide some additional information about the intent on the command.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref3" name="cmnt3">[c]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Non-value flag, named &#39;t&#39;. Non-value flags are usually used to toggle some kind of state.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref4" name="cmnt4">[d]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Multi-word value flags must have the value enclosed in quotes. In this example, the flag named &#39;flag&#39; has a value of &#39;multi word value&#39;.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref5" name="cmnt5">[e]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Values in a value flag that are a single word do not use quotes.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref6" name="cmnt6">[f]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Usually integers outside of a flag indicate a page number, though this may not always be the case.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref7" name="cmnt7">[g]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Click on different parts of the script for a description.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref8" name="cmnt8">[h]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This is the assignment script-container&#39;s name: Cookies</span></p><p class="c1 c6"><span class="c7">This is the same name that the script will be referenced with in-game when assigning.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref9" name="cmnt9">[i]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Use the &#39;type&#39; key to define the type of script-container this is. The type of this script-container is &#39;assignment&#39;. This the is base-script of an NPC and is used to define what will happen with the NPC when interacted with.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref10" name="cmnt10">[j]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This key defines interact-type scripts that should be checked when interacting. This may contain multiple entries, but in this case, only has one.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref11" name="cmnt11">[k]</a><span class="c7">Mason Adkins:</span></p><p class="c1 c6"><span class="c7">This action is executed when the script is assigned.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref12" name="cmnt12">[l]</a><span class="c7">Mason Adkins:</span></p><p class="c1 c6"><span class="c7">This script uses Chat Triggers which are not enabled by default. The trigger command will enable it when the script is assigned.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref13" name="cmnt13">[m]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Interact-scripts use steps to handle multiple situations with interaction. This is the parent-key for all steps contained.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref14" name="cmnt14">[n]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This step is called &#39;Spreading the Word&#39;. Each steps should have a name, unique to the entire Interact-script. The asterisk (*) behind the name indicates that this should be the &#39;default&#39; step when interacting for the first time with this script.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref15" name="cmnt15">[o]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This step contains a click trigger. No configuration keys are needed for a click trigger, just a script.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref16" name="cmnt16">[p]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Contains a list of script entries that should be carried out when called upon. Notice that the indentation indicates that it belongs to click trigger, thus being the script that executes on click trigger. Indenting items in YAML (and therefore dScript) indicate inter-object ownership.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref17" name="cmnt17">[q]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This step also contains a chat trigger. Note that unlike a click trigger, chat triggers are required to be named, since there could be multiple chat triggers per step.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref18" name="cmnt18">[r]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This should be a name for the chat trigger, unique to this step. Keep in mind: this is not the actual trigger-word.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref19" name="cmnt19">[s]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Each chat trigger requires a trigger-key and a script-key. Trigger-key specifies the criteria and replacement text of the trigger. In this case, &#39;cookie&#39; is the trigger word.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref20" name="cmnt20">[t]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">When this script is run, it contains a command used when another step needs to be activated. The next time the Player interacts with this NPC, the step &#39;Cookies Given&#39; will be used instead of the default.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref21" name="cmnt21">[u]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Another step in this interact-script. This is enabled by talking to the NPC.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref22" name="cmnt22">[v]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This step only has one trigger. &nbsp;When clicked, the script below will trigger. This will continue to be the response from the NPC after getting cookies since there is no change of step in the script.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref23" name="cmnt23">[w]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">The basic key/value relationship. In this example, &#39;standard value&#39; is owned by &#39;standard key&#39;. You&#39;ll see this a lot in dscript, such as defining the type of a script, the mode of requirements, or a modifier in a trigger.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref24" name="cmnt24">[x]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">The basic key/list value relationship. Multiple values, or &#39;entries&#39;, can be owned by a single key. This is the format that you&#39;ll see when writing script entries. Each entry must start with a - followed by a space. Spacing is critical, and should be line up exactly with the key, like seen here. Also notice that values can span multiple lines.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref25" name="cmnt25">[y]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Alternative way to do a key/list value relationship. This is what is typically used when doing requirements lists since requirements tends to be fairly simple with few arguments, but can be used at any time.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref26" name="cmnt26">[z]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">&#39;Ownership&#39; is an extremely important concept to understand. &#39;Parent keys&#39; can have multiple &#39;children&#39; keys, and even &#39;grand-children&#39; keys and so-on. In this example, think of the parent key as being the name of a script-container. If an interact script, it could have multiple keys that it owns -- for instance, &#39;Example Script:&#39; will have a Type: key, Steps: key, and possibly a Requirements: key. &nbsp;Each of those will have keys and values of its own, but they all belong to the parent &#39;Example Script:&#39; key.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref27" name="cmnt27">[aa]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Notice this script uses 4 spaces. Two or four, it doesn&#39;t matter as long as all keys in the script follow suit. Items scripts create parameters of a new &#39;item object&#39; using a script container to specify attributes.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref28" name="cmnt28">[ab]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">The &#39;material&#39; key is owned by the script, so it has one level of indentation. The same goes for display name and the type keys.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref29" name="cmnt29">[ac]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">The &#39;lore&#39; key has the same indentation as material, indicating that it is owned by the &#39;Ratted Paper&#39; script. Lore is a list, so items belonging to the &#39;lore&#39; key are listed below, with each new entry starting with a &#39;-&#39;, indented as indicated here.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref30" name="cmnt30">[ad]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">the &#39;actions&#39; key belongs to the script &#39;The Clicker&#39;. Note that this example uses a 2-space convention.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref31" name="cmnt31">[ae]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">&#39;on assignment&#39; belongs to &#39;actions&#39;, so it is indented 2 more spaces to indicate ownership to the key.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref32" name="cmnt32">[af]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">&#39;on click&#39; is owned by &#39;actions&#39; as well. Make sure spacing is consistent!</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref33" name="cmnt33">[ag]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Stray colons (:) can cause issue when a space follows, such as what is used in this example. To fix, simply use a replaceable tag for a colon character (&lt;&amp;co&gt;) in place of the colon.</span></p><hr><p class="c1 c6"><span class="c7">Bradley Rentfrow:</span></p><p class="c1 c6"><span class="c7">Could you provide a list of these replaceable tag for these special characters?</span></p><hr><p class="c1 c6"><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Done, see Appendix S.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref34" name="cmnt34">[ah]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Note: On this kind of event, there is no valid Player or NPC object automatically associated with the script entries. Player: and NPCID: arguments can be used on any script entry to satisfy that link, however.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref35" name="cmnt35">[ai]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Valid for every hour, must specify world-name. Replaceable tags are not yet valid forevent names. ie. on 1:00 in &lt;flag.g:special_world&gt; will not work. Minecraft time 0 = 6:00.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref36" name="cmnt36">[aj]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Note that this will not be the command for notable locations in its final form. See the &#39;bukkit commands&#39; section for planned final usage.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref37" name="cmnt37">[ak]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Use the command /notable add --name &#39;name of location&#39; to add a notable location. This command is still developing.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref38" name="cmnt38">[al]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This action fires when the NPC is assigned the script.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref39" name="cmnt39">[am]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Instruct the &#39;click&#39; trigger to become enabled. This may be enabled already due to a default, but it&#39;s good measure to make sure.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref40" name="cmnt40">[an]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This actions is provided by the click trigger. It will run this script on each right click the Player uses on the NPC.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref41" name="cmnt41">[ao]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This will keep track of the number of clicks so far by incrementing a flag stored on the NPC named &#39;clicks&#39;. Using the ++ action will increase the current value by one.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref42" name="cmnt42">[ap]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This command will choose 1 of the next 4 entries and discard the other 3.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref43" name="cmnt43">[aq]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This replaceable tag will recall the value of &#39;clicks&#39; as an integer. The &#39;n&#39; indicates the flag is stored on the NPC.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref44" name="cmnt44">[ar]</a><span class="c7">Anonymous:</span></p><p class="c1 c6"><span class="c7">So when I use this, and I drop the item item_script_name the name I see would be the display name?</span></p><hr><p class="c1 c6"><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">If you pick the item up, yes, it will be labeled as whatever the display name is.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref45" name="cmnt45">[as]</a><span class="c7">Mason Adkins:</span></p><p class="c1 c6"><span class="c7">Auuufff, love me.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref46" name="cmnt46">[at]</a><span class="c7">spaceemotion:</span></p><p class="c1 c6"><span class="c7">inside the format you can use ANY tag you want!</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref47" name="cmnt47">[au]</a><span class="c7">Anonymous:</span></p><p class="c1 c6"><span class="c7">Can&#39;t you let a bot do that?</span></p><hr><p class="c1 c6"><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This tag system is hanging on what might be the last major update to Denizen before 1.0. I&#39;m discouraging hard docs on the rest of the tags until that code is finalized. This is my main focus and will be done soon. After that, there&#39;ll be lots of docs with these explained :)</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref48" name="cmnt48">[av]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Leaving out the argument that indicates where the flag should be stored will automatically assume that it should be stored on the player attached to the entry.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref49" name="cmnt49">[aw]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Why the ^? npcid: and player: arguments with tags must be resolved before any other replaceable tags, which is done by using a ^ like shown here.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref50" name="cmnt50">[ax]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Even though a npcid has been specified, the flag command still needs to know that the flag should be stored on the NPC, which is done by using the &#39;npc&#39; argument as shown here. npcid: only updates the npc linked to the scriptentry.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref51" name="cmnt51">[ay]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Increment and subtract actions that do not have a value specified will assume 1. In this example, the NPC flag &#39;counter&#39; will be incremented by 1.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref52" name="cmnt52">[az]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">This player flag named &#39;points&#39; will have 3 subtracted from its current value.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref53" name="cmnt53">[ba]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Global flags will resolve the same no matter which NPC or player is in question. Think of them as a &#39;server-wide&#39; variable.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref54" name="cmnt54">[bb]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">These files are generated and maintained by the Denizen plugin, and in most circumstances should not be edited by hand.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref55" name="cmnt55">[bc]</a><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Remember: any .dscript or .yml file in the /scripts/ folder will attempt to load on startup or a /denizen reload scripts</span></p><hr><p class="c1 c6"><span class="c7">spaceemotion:</span></p><p class="c1 c6"><span class="c7">In the latest version of Denizen, scripts inside subfolders of the script folder also will load (when enabled in config)</span></p><hr><p class="c1 c6"><span class="c7">Anonymous:</span></p><p class="c1 c6"><span class="c7">dscript is confusing and will also break formatting in Notepad++ as it uses the extention yml</span></p><hr><p class="c1 c6"><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">I know it seems pretty pretentious to make my own &#39;extension&#39;... but keep this in mind:</span></p><p class="c1 c6"><span class="c7">1) All dScript is .yml, but not all .yml is dScript, so it helps to make a distinction.</span></p><p class="c1 c6"><span class="c7">2) I&#39;ve started working on a custom syntax highlighter for sublime text2, so in order to make that work, it needed its own extension.</span></p><p class="c0 c1"><span class="c7"></span></p><p class="c1 c6"><span class="c7">If it helps, sublime text2 can handle the extension and still format for yml. Are you sure notepad++ can&#39;t? If it&#39;s easier for you though, using .yml is just fine.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref56" name="cmnt56">[bd]</a><span class="c7">Anonymous:</span></p><p class="c1 c6"><span class="c7">What if some listener with the specified Id already exists?</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref57" name="cmnt57">[be]</a><span class="c7">Anonymous:</span></p><p class="c1 c6"><span class="c7">An example how I specify such a list? Do I have to put commata or multiple type: ?</span></p><hr><p class="c1 c6"><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">Typically, denizen &#39;dLists&#39; use the | character to seperate items.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref58" name="cmnt58">[bf]</a><span class="c7">Anonymous:</span></p><p class="c1 c6"><span class="c7">which player?</span></p><hr><p class="c1 c6"><span class="c7">Jeremy Schroeder:</span></p><p class="c1 c6"><span class="c7">The player in which the listener was assigned to.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref59" name="cmnt59">[bg]</a><span class="c7">Anonymous:</span></p><p class="c1 c6"><span class="c7">Would it have the same effect if I start a listener to listen for kills an then drop my item manually?</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref60" name="cmnt60">[bh]</a><span class="c7">Anonymous:</span></p><p class="c1 c6"><span class="c7">God bless the author of this Plugin. I can&#39;t tell you how many non-markup language based plugins there are out there. I know a good deal of object oriented languages but YAML is so easy work with.</span></p><p class="c0 c1"><span class="c7"></span></p><p class="c1 c6"><span class="c7">Again, the author is a genius.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref61" name="cmnt61">[bi]</a><span class="c7">cressalbane1:</span></p><p class="c1 c6"><span class="c7">What happened to the HINT command? &nbsp;It was really handy.</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref62" name="cmnt62">[bj]</a><span class="c7">jbullen:</span></p><p class="c1 c6"><span class="c7">Are you going to link to this from the Wiki? Or publish it in the wiki?</span></p></div><div class="c27"><p class="c1 c6"><a href="#cmnt_ref63" name="cmnt63">[bk]</a><span class="c7">Jorgemolamazo:</span></p><p class="c1 c6"><span class="c7">Hi</span></p><p class="c1 c6"><span class="c7">Someone there?</span></p><p class="c1 c6"><span class="c7">- ^TAKE item:4 QTY:64 &lt;-- anyone knows why this don&#39;t work ?</span></p><p class="c1 c6"><span class="c7">i&#39;d tested - ^TAKE &#39;item:4&#39; QTY:64 - ^TAKE cobblestone QTY:64 - ^TAKE ITEM &#39;item:4&#39; QTY:64 - ^TAKE item:cobblestone QTY:64 - ^TAKE item:cobble QTY:64</span></p><p class="c1 c6"><span class="c7">Can someone help me, please?</span></p></div></body></html>